<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"><meta charset="UTF-8"><link href="https://docs.juvix.org/assets/css/source-ayu-light.css" rel="stylesheet" type="text/css"><script src="https://docs.juvix.org/assets/js/highlight.js" type="text/javascript"></script><div id="package-header"><span class="caption"></span></div><pre id="src-content"><span class="ju-keyword">module</span> <span id="Anoma.IntentDsl:0"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:0"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:0"><span class="ju-var">Anoma<span class="ju-delimiter">.</span>IntentDsl</span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="Anoma.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/Anoma/Prelude-src.html#Anoma.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/Anoma/Prelude-src.html#Anoma.Prelude:0"><span class="ju-var">Anoma<span class="ju-delimiter">.</span>Prelude</span></a></span></a></span></span> <span class="ju-keyword">open</span> <span class="ju-keyword">hiding</span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/List/Base-src.html#Stdlib.Data.List.Base:5"><span class="ju-function">for</span></a></span><span class="ju-delimiter">;</span> <span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/List/Base-src.html#Stdlib.Data.List.Base:23"><span class="ju-function">any</span></a></span><span class="ju-delimiter">;</span> <span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/List/Base-src.html#Stdlib.Data.List.Base:24"><span class="ju-function">all</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="Anoma:0"><span class="annot"><a href="https://docs.juvix.org/Anoma-src.html#Anoma:0"><span class="annot"><a href="https://docs.juvix.org/Anoma-src.html#Anoma:0"><span class="ju-var">Anoma</span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Anoma.IntentDsl:1"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="Anoma.IntentDsl:2"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:2"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:2"><span class="ju-constructor">mkAsset</span></a></span></a></span></span> <span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:37"><span class="ju-var">quantity</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/Int/Base-src.html#Stdlib.Data.Int.Base:1"><span class="ju-inductive">Int</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:38"><span class="ju-var">kind</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/Kind-src.html#Anoma.Kind:2"><span class="ju-function">Kind</span></a></span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Anoma.IntentDsl:6"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:6"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:6"><span class="ju-inductive">Quantifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">|</span> <span id="Anoma.IntentDsl:7"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:7"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:7"><span class="ju-constructor">Any</span></a></span></a></span></span>
  <span class="ju-keyword">|</span> <span id="Anoma.IntentDsl:8"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:8"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:8"><span class="ju-constructor">All</span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Anoma.IntentDsl:10"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:10"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:10"><span class="ju-inductive">QuantifiedAssets</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="Anoma.IntentDsl:11"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:11"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:11"><span class="ju-constructor">mkAssets</span></a></span></a></span></span> <span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:39"><span class="ju-var">quantifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:6"><span class="ju-inductive">Quantifier</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:40"><span class="ju-var">assets</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Anoma.IntentDsl:15"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:15"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:15"><span class="ju-inductive">IntentDsl</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">|</span> <span id="Anoma.IntentDsl:16"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:16"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:16"><span class="ju-constructor">IntentAsset</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span>
  <span class="ju-keyword">|</span> <span id="Anoma.IntentDsl:17"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:17"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:17"><span class="ju-constructor">Or</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:15"><span class="ju-inductive">IntentDsl</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:15"><span class="ju-inductive">IntentDsl</span></a></span>
  <span class="ju-keyword">|</span> <span id="Anoma.IntentDsl:18"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:18"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:18"><span class="ju-constructor">And</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:15"><span class="ju-inductive">IntentDsl</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:15"><span class="ju-inductive">IntentDsl</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="ju-var">of_</span> <span class="ju-var">additive</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">syntax</span> <span class="ju-keyword">alias</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:20"><span class="ju-var">of_</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:2"><span class="ju-constructor">mkAsset</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Anoma.IntentDsl:21"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:21"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:21"><span class="ju-inductive">Intention</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">|</span> <span id="Anoma.IntentDsl:22"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:22"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:22"><span class="ju-constructor">Want</span></a></span></a></span></span>
  <span class="ju-keyword">|</span> <span id="Anoma.IntentDsl:23"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:23"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:23"><span class="ju-constructor">Give</span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Anoma.IntentDsl:25"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:25"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:25"><span class="ju-inductive">Clause</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="Anoma.IntentDsl:26"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:26"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:26"><span class="ju-constructor">mkClause</span></a></span></a></span></span> <span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:41"><span class="ju-var">lhs</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:21"><span class="ju-inductive">Intention</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/Product/Base-src.html#Stdlib.Data.Product.Base:1"><span class="ju-inductive">×</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:42"><span class="ju-var">rhs</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:10"><span class="ju-inductive">QuantifiedAssets</span></a></span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="Anoma.IntentDsl:30"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:30"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:30"><span class="ju-function">
any</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:43"><span class="ju-var">as</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:10"><span class="ju-inductive">QuantifiedAssets</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:11"><span class="ju-constructor">mkAssets</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="Anoma.IntentDsl:44"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:44"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:44"><span class="ju-function">quantifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:7"><span class="ju-constructor">Any</span></a></span><span class="ju-delimiter">;</span>
    <span id="Anoma.IntentDsl:45"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:45"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:45"><span class="ju-function">assets</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:43"><span class="ju-var">as</span></a></span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="Anoma.IntentDsl:31"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:31"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:31"><span class="ju-function">
all</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:46"><span class="ju-var">as</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:10"><span class="ju-inductive">QuantifiedAssets</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:11"><span class="ju-constructor">mkAssets</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="Anoma.IntentDsl:47"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:47"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:47"><span class="ju-function">quantifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:8"><span class="ju-constructor">All</span></a></span><span class="ju-delimiter">;</span>
    <span id="Anoma.IntentDsl:48"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:48"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:48"><span class="ju-function">assets</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:46"><span class="ju-var">as</span></a></span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="Anoma.IntentDsl:32"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:32"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:32"><span class="ju-function">
exactly</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:49"><span class="ju-var">a</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:10"><span class="ju-inductive">QuantifiedAssets</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:11"><span class="ju-constructor">mkAssets</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="Anoma.IntentDsl:50"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:50"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:50"><span class="ju-function">quantifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:8"><span class="ju-constructor">All</span></a></span><span class="ju-delimiter">;</span>
    <span id="Anoma.IntentDsl:51"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:51"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:51"><span class="ju-function">assets</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">[</span><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:49"><span class="ju-var">a</span></a></span><span class="ju-keyword">]</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="Anoma.IntentDsl:33"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:33"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:33"><span class="ju-function">
want</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:52"><span class="ju-var">a</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:21"><span class="ju-inductive">Intention</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/Product/Base-src.html#Stdlib.Data.Product.Base:1"><span class="ju-inductive">×</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:22"><span class="ju-constructor">Want</span></a></span><span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/Product/Base-src.html#Stdlib.Data.Product.Base:2"><span class="ju-constructor">,</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:52"><span class="ju-var">a</span></a></span><span class="ju-delimiter">;</span>
<span id="Anoma.IntentDsl:34"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:34"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:34"><span class="ju-function">
give</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:53"><span class="ju-var">a</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:21"><span class="ju-inductive">Intention</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/Product/Base-src.html#Stdlib.Data.Product.Base:1"><span class="ju-inductive">×</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:23"><span class="ju-constructor">Give</span></a></span><span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/Product/Base-src.html#Stdlib.Data.Product.Base:2"><span class="ju-constructor">,</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:53"><span class="ju-var">a</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="ju-var">for</span> <span class="ju-var">pair</span><span class="ju-delimiter">;</span>
<span id="Anoma.IntentDsl:35"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:35"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:35"><span class="ju-function">
for</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:54"><span class="ju-var">l</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:21"><span class="ju-inductive">Intention</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/Product/Base-src.html#Stdlib.Data.Product.Base:1"><span class="ju-inductive">×</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:55"><span class="ju-var">qs</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:10"><span class="ju-inductive">QuantifiedAssets</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:25"><span class="ju-inductive">Clause</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:26"><span class="ju-constructor">mkClause</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="Anoma.IntentDsl:56"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:56"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:56"><span class="ju-function">lhs</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:54"><span class="ju-var">l</span></a></span><span class="ju-delimiter">;</span>
    <span id="Anoma.IntentDsl:57"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:57"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:57"><span class="ju-function">rhs</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:55"><span class="ju-var">qs</span></a></span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="Anoma.IntentDsl:36"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:36"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:36"><span class="ju-function">
exchangeIntent</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:58"><span class="ju-var">ownedAssets</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:1"><span class="ju-inductive">Asset</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:59"><span class="ju-var">clauses</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:25"><span class="ju-inductive">Clause</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/PartialTx-src.html#Anoma.PartialTx:1"><span class="ju-inductive">PartialTx</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://docs.juvix.org/Anoma/PartialTx-src.html#Anoma.PartialTx:2"><span class="ju-constructor">mkPartialTx</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="Anoma.IntentDsl:60"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:60"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:60"><span class="ju-function">consumedResources</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="annot"><a href="https://docs.juvix.org/Stdlib/Data/List/Base-src.html#Stdlib.Data.List.Base:6"><span class="ju-function">map</span></a></span> <span id="Anoma.IntentDsl:62"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:62"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:62"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:58"><span class="ju-var">ownedAssets</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://docs.juvix.org/Anoma/Resource-src.html#Anoma.Resource:12"><span class="ju-function">mkSimpleResource</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:4"><span class="ju-function"><span class="ju-delimiter">(</span>Asset<span class="ju-delimiter">.</span>kind</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:62"><span class="ju-var">a</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:3"><span class="ju-function"><span class="ju-delimiter">(</span>Asset<span class="ju-delimiter">.</span>quantity</span></a></span> <span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:62"><span class="ju-var">a</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span id="Anoma.IntentDsl:61"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:61"><span class="annot"><a href="https://docs.juvix.org/Anoma/IntentDsl-src.html#Anoma.IntentDsl:61"><span class="ju-function">createdResources</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">[</span><span class="ju-keyword">]</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
</pre><footer><pre>Powered by <a href="https://juvix.org">Juvix </a><a href="https://github.com/anoma/juvix/commit/29f1c4c">0.6.1-29f1c4c</a></pre></footer><span>Last modified on 2024-05-17 13:03 UTC</span></html>