
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The Official Documentation for Juvix">
      
      
        <meta name="author" content="The Juvix Team">
      
      
        <link rel="canonical" href="https://docs.juvix.org/latest/tutorials/learn.juvix/">
      
      
        <link rel="prev" href="../../blog/archive/2022/">
      
      
        <link rel="next" href="../vscode/">
      
      
        
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/images/favicon/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.14+insiders-4.46.0">
    
    
      
        <title>Learn Juvix in minutes - Juvix Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0ab26e37.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.d8e95e7a.css">
        <style>:root{--md-text-font:"Roboto Flex";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../assets/css/extra.css">
    
      <link rel="stylesheet" href="../../assets/css/juvix-highlighting.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-9R2Q766R16"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-9R2Q766R16",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-9R2Q766R16",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="Learn Juvix in minutes - Juvix Docs" />
<meta property="og:description" content="The Official Documentation for Juvix" />
<meta property="og:image" content="https://docs.juvix.org/latest/assets/images/social/tutorials/learn.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://docs.juvix.org/latest/tutorials/learn.juvix/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="Learn Juvix in minutes - Juvix Docs" />
<meta property="twitter:description" content="The Official Documentation for Juvix" />
<meta property="twitter:image" content="https://docs.juvix.org/latest/assets/images/social/tutorials/learn.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="juvix-light" data-md-color-primary="deep-orange" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#juvix-tutorial" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://docs.juvix.org" title="Juvix Docs" class="md-header__button md-logo" aria-label="Juvix Docs" data-md-component="logo" target="_blank" rel="noopener">
      
  <img src="../../assets/logo-juvix.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Juvix Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Learn Juvix in minutes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="juvix-light" data-md-color-primary="deep-orange" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="juvix-dark" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/anoma/juvix" title="Go to repository" class="md-source" data-md-component="source" target="_blank" rel="noopener">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    anoma/juvix
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="/" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../about/overview/" class="md-tabs__link">
          
  
    
  
  About

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../howto/installing/" class="md-tabs__link">
          
  
    
  
  How-to guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/language/" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 17H5V7h11l3.55 5m-1.92-6.16C17.27 5.33 16.67 5 16 5H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h11c.67 0 1.27-.34 1.63-.85L22 12l-4.37-6.16Z"/></svg>
    
  
  Reference

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://anoma.github.io/juvix-stdlib/Stdlib.Prelude.html#" class="md-tabs__link" target="_blank" rel="noopener">
        
  
    
  
  Standard library

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../juvix-packages/" class="md-tabs__link">
        
  
    
  
  Packages and Projects

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://discord.gg/jwzaMZ2Sct" class="md-tabs__link" target="_blank" rel="noopener">
        
  
    
  
  Discord

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://docs.juvix.org" title="Juvix Docs" class="md-nav__button md-logo" aria-label="Juvix Docs" data-md-component="logo" target="_blank" rel="noopener">
      
  <img src="../../assets/logo-juvix.svg" alt="logo">

    </a>
    Juvix Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/anoma/juvix" title="Go to repository" class="md-source" data-md-component="source" target="_blank" rel="noopener">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    anoma/juvix
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    About
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/overview/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 3h2l5 2-5 2v3.17L22 21H2l6-8 3.5 4.7 3.5-7.53V3Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/team/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Team
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/license/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    License
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../blog/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Blog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../blog/archive/2023/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Archive
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../blog/category/conference/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Categories
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 23.3-.6-.5c-2-1.9-3.4-3.1-3.4-4.6 0-1.2 1-2.2 2.2-2.2.7 0 1.4.3 1.8.8.4-.5 1.1-.8 1.8-.8 1.2 0 2.2.9 2.2 2.2 0 1.5-1.4 2.7-3.4 4.6l-.6.5M3 7V5h2V4a2 2 0 0 1 2-2h6v7l2.5-1.5L18 9V2h1c1.05 0 2 .95 2 2v9.34A6.005 6.005 0 0 0 13.8 22H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7H3m2-2v2h2V5H5m0 14h2v-2H5v2m0-6h2v-2H5v2Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Learn Juvix in minutes
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 23.3-.6-.5c-2-1.9-3.4-3.1-3.4-4.6 0-1.2 1-2.2 2.2-2.2.7 0 1.4.3 1.8.8.4-.5 1.1-.8 1.8-.8 1.2 0 2.2.9 2.2 2.2 0 1.5-1.4 2.7-3.4 4.6l-.6.5M3 7V5h2V4a2 2 0 0 1 2-2h6v7l2.5-1.5L18 9V2h1c1.05 0 2 .95 2 2v9.34A6.005 6.005 0 0 0 13.8 22H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7H3m2-2v2h2V5H5m0 14h2v-2H5v2m0-6h2v-2H5v2Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Learn Juvix in minutes
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#juvix-repl" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Juvix REPL
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Basic expressions
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#files-modules-and-compilation" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Files, modules and compilation
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-types-and-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Data types and functions
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Pattern matching
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparisons-and-conditionals" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Comparisons and conditionals
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Local definitions
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recursion" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Recursion
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#partial-application-and-higher-order-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Partial application and higher-order functions
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#polymorphism" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Polymorphism
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tail-recursion" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Tail recursion
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tail recursion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Conclusion
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iteration-over-data-structures" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Iteration over data structures
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#totality-checking" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Totality checking
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercises" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Exercises
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#warm-up-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Warm-up exercises
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Warm-up exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boolean-operators" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Boolean operators
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-maybe-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          The <code>Maybe</code> type
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          List exercises
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-composition" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Function composition
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          More exercises
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="More exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prime-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Prime numbers
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#half" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Half
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suffixes" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Suffixes
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tree-map" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Tree map
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#polymorphic-tree" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Polymorphic tree
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#factorial" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Factorial
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-function-compose" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          List function compose
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vscode/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 16.47V7.39l-6 4.54M2.22 9.19a.858.858 0 0 1-.02-1.15l1.2-1.11c.2-.18.69-.26 1.05 0l3.42 2.61 7.93-7.25c.32-.32.87-.45 1.5-.12l4 1.91c.36.21.7.54.7 1.15v13.5c0 .4-.29.83-.6 1l-4.4 2.1c-.32.13-.92.01-1.13-.2l-8.02-7.3-3.4 2.6c-.38.26-.85.19-1.05 0l-1.2-1.1c-.32-.33-.28-.87.05-1.2l3-2.7"/></svg>
  
  <span class="md-ellipsis">
    
  
    Juvix VSCode extension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../emacs/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339 23.221 18.253 23.221 12 18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552 0 0 1.764-.377 2.707-.725.987-.364 1.524-.673 1.766-1.11-.011-.09.074-.408-.381-.599-1.164-.488-2.514-.4-5.185-.457-2.962-.102-3.948-.598-4.472-.997-.503-.405-.25-1.526 1.907-2.513 1.086-.526 5.345-1.496 5.345-1.496-1.434-.709-4.109-1.955-4.659-2.224-.482-.236-1.254-.591-1.421-1.021-.19-.413.448-.768.804-.87 1.147-.331 2.766-.536 4.24-.56.741-.012.861-.059.861-.059 1.022-.17 1.695-.869 1.414-1.976-.252-1.13-1.579-1.795-2.84-1.565-1.188.217-4.05 1.048-4.05 1.048 3.539-.031 4.131.028 4.395.398.156.218-.071.518-1.015.672-1.027.168-3.163.37-3.163.37-2.049.122-3.492.13-3.925 1.046-.283.599.302 1.129.558 1.46 1.082 1.204 2.646 1.853 3.652 2.331.379.18 1.49.52 1.49.52-3.265-.18-5.619.823-7.001 1.977-1.562 1.445-.871 3.168 2.33 4.228 1.891.626 2.828.921 5.648.667 1.661-.09 1.923-.036 1.939.1.023.192-1.845.669-2.355.816-1.298.374-4.699 1.129-4.716 1.133z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Juvix Emacs mode
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workshop/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 23.3-.6-.5c-2-1.9-3.4-3.1-3.4-4.6 0-1.2 1-2.2 2.2-2.2.7 0 1.4.3 1.8.8.4-.5 1.1-.8 1.8-.8 1.2 0 2.2.9 2.2 2.2 0 1.5-1.4 2.7-3.4 4.6l-.6.5M3 7V5h2V4a2 2 0 0 1 2-2h6v7l2.5-1.5L18 9V2h1c1.05 0 2 .95 2 2v9.34A6.005 6.005 0 0 0 13.8 22H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7H3m2-2v2h2V5H5m0 14h2v-2H5v2m0-6h2v-2H5v2Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    ZKSummit 10 Workshop
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    
  
    How-to guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-to guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/installing/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 6h16v10H4m16 2a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H4c-1.11 0-2 .89-2 2v10a2 2 0 0 0 2 2H0v2h24v-2h-4Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Installing Juvix
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/compilation/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25ZM7.25 8a.749.749 0 0 1-.22.53l-2.25 2.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L5.44 8 3.72 6.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.25 2.25c.141.14.22.331.22.53Zm1.5 1.5h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Compiling programs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/project/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 10H5V8h14v2m0 6H5v-2h14v2Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Setting up a project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/contributing/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9 3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3 3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3 3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.536 5.536 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13v-1.75M0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9-.59.68-.95 1.62-.95 2.65V20H0m24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65 2.56.34 4.45 1.51 4.45 2.9V20Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/judoc/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 12h8v2H8v-2m2 8H6V4h7v5h5v3.1l2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4v-2m-2-2h4.1l.9-.9V16H8v2m12.2-5c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Judoc documentation tool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../reference/language/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Language reference
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/stdlib/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Standard library
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/examples/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m9.37 4 1.41 2.5L9.37 9H6.63l-1.4-2.5L6.63 4h2.74m.88-2h-4.5c-.19 0-.36.11-.44.26L3.09 6.22 3 6.5l.09.28 2.22 3.96c.08.15.25.26.44.26h4.5c.19 0 .36-.11.44-.26l2.22-3.96.09-.28-.09-.28-2.22-3.96a.505.505 0 0 0-.44-.26m8.37 7.5L20 12l-1.38 2.5h-2.74L14.5 12l1.38-2.5h2.74m.88-2H15c-.19 0-.36.11-.44.26l-2.22 3.96-.09.28.09.28 2.22 3.96c.08.15.25.26.44.26h4.5c.19 0 .36-.11.44-.26l2.22-3.96.09-.28-.09-.28-2.22-3.96a.505.505 0 0 0-.44-.26M9.37 15l1.41 2.5L9.37 20H6.63l-1.4-2.5 1.4-2.5h2.74m.88-2h-4.5c-.19 0-.36.11-.44.26l-2.22 3.96-.09.28.09.28 2.22 3.96c.08.15.25.26.44.26h4.5c.19 0 .36-.11.44-.26l2.22-3.96.09-.28-.09-.28-2.22-3.96a.505.505 0 0 0-.44-.26Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Example programs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../reference/judoc/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Tooling
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../notes/lsp/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Compiler Dev Reference
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://anoma.github.io/juvix-stdlib/Stdlib.Prelude.html#" class="md-nav__link" target="_blank" rel="noopener">
        
  
  <span class="md-ellipsis">
    
  
    Standard library
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../juvix-packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Packages and Projects
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://discord.gg/jwzaMZ2Sct" class="md-nav__link" target="_blank" rel="noopener">
        
  
  <span class="md-ellipsis">
    
  
    Discord
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#juvix-repl" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Juvix REPL
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Basic expressions
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#files-modules-and-compilation" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Files, modules and compilation
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-types-and-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Data types and functions
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Pattern matching
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparisons-and-conditionals" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Comparisons and conditionals
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Local definitions
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recursion" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Recursion
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#partial-application-and-higher-order-functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Partial application and higher-order functions
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#polymorphism" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Polymorphism
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tail-recursion" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Tail recursion
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tail recursion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Conclusion
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iteration-over-data-structures" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Iteration over data structures
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#totality-checking" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Totality checking
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercises" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Exercises
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#warm-up-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Warm-up exercises
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Warm-up exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boolean-operators" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Boolean operators
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-maybe-type" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          The <code>Maybe</code> type
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          List exercises
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-composition" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Function composition
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          More exercises
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="More exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prime-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Prime numbers
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#half" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Half
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suffixes" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Suffixes
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tree-map" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Tree map
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#polymorphic-tree" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Polymorphic tree
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#factorial" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Factorial
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-function-compose" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          List function compose
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




              
              <article class="md-content__inner md-typeset">
                



                  <!-- Tags -->

  
<nav class="md-tags" >
  
</nav>


<!-- Actions -->


  
    <a href="https://github.com/anoma/juvix-docs/edit/main/docs/tutorials/learn.juvix.md" title="Edit this page" class="md-content__button md-icon" target="_blank" rel="noopener">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-1.9l10-10V8l-6-6H6m7 1.5L18.5 9H13V3.5m7.1 9.5c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-2 1.8L12 20.9V23h2.1l6.1-6.1-2.1-2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/anoma/juvix-docs/raw/main/docs/tutorials/learn.juvix.md" title="View source of this page" class="md-content__button md-icon" target="_blank" rel="noopener">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5m-7.86-1.75L8.85 19l.29-.74C10.43 15.06 13.5 13 17 13c1.05 0 2.06.21 3 .56V8l-6-6H6c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4.5c-.55-.66-1-1.42-1.36-2.25M13 3.5 18.5 9H13V3.5Z"/></svg>
    </a>
  



<!--
  Hack: check whether the content contains a h1 headline. If it doesn't, the
  page title (or respectively site name) is used as the main headline.
-->


<!-- Page content -->
<h1 id="juvix-tutorial">Juvix tutorial<a class="headerlink" href="#juvix-tutorial" title="Permanent link">&para;</a></h1>
<p><img align="left" alt="tara-teaching" src="../../assets/images/tara-teaching.svg" width="280" /></p>
<p>Welcome to the Juvix tutorial! This concise guide will introduce you to
essential language features, while also serving as an introduction to functional
programming. By the end of this tutorial, you'll have a strong foundation in
Juvix's core concepts, ready to explore its advanced capabilities. Let's get
started on your Juvix journey!</p>
<h2 id="juvix-repl">Juvix REPL<a class="headerlink" href="#juvix-repl" title="Permanent link">&para;</a></h2>
<p>After <a href="../../howto/installing/">installing Juvix</a>, launch the Juvix REPL:</p>
<div class="highlight"><pre><span></span><code>juvix<span class="w"> </span>repl
</code></pre></div>
<p>The response should be similar to:</p>
<div class="highlight"><pre><span></span><code>Juvix REPL version 0.3: https://juvix.org. Run :help for help
OK loaded: ./.juvix-build/stdlib/Stdlib/Prelude.juvix
Stdlib.Prelude&gt;
</code></pre></div>
<p>Currently, the REPL supports evaluating expressions but it does not yet support
adding new definitions. To see the list of available REPL commands type <code>:help</code>.</p>
<h2 id="basic-expressions">Basic expressions<a class="headerlink" href="#basic-expressions" title="Permanent link">&para;</a></h2>
<p>You can try evaluating simple arithmetic expressions in the REPL:</p>
<div class="highlight"><pre><span></span><code>Stdlib.Prelude&gt; 3 + 4
7
Stdlib.Prelude&gt; 1 + 3 * 7
22
Stdlib.Prelude&gt; div 35 4
8
Stdlib.Prelude&gt; mod 35 4
3
Stdlib.Prelude&gt; sub 35 4
31
Stdlib.Prelude&gt; sub 4 35
0
</code></pre></div>
<p>By default, Juvix operates on non-negative natural numbers. Natural number
subtraction is implemented by the function <code>sub</code>. Subtracting a bigger natural
number from a smaller one yields <code>0</code>.</p>
<p>You can also try boolean expressions</p>
<div class="highlight"><pre><span></span><code>Stdlib.Prelude&gt; true
true
Stdlib.Prelude&gt; not true
false
Stdlib.Prelude&gt; true &amp;&amp; false
false
Stdlib.Prelude&gt; true || false
true
Stdlib.Prelude&gt; if true 1 0
1
</code></pre></div>
<p>and strings, pairs and lists:</p>
<div class="highlight"><pre><span></span><code>Stdlib.Prelude&gt; &quot;Hello world!&quot;
&quot;Hello world!&quot;
Stdlib.Prelude&gt; (1, 2)
(1, 2)
Stdlib.Prelude&gt; 1 :: 2 :: nil
1 :: 2 :: nil
</code></pre></div>
<p>In fact, you can use all functions and types from the
<a href="https://anoma.github.io/juvix-stdlib/Stdlib.Prelude.html" target="_blank" rel="noopener">Stdlib.Prelude</a>
module of the <a href="https://anoma.github.io/juvix-stdlib" target="_blank" rel="noopener">standard library</a>, which is
preloaded by default.</p>
<div class="highlight"><pre><span></span><code>Stdlib.Prelude&gt; length (1 :: 2 :: nil)
3
Stdlib.Prelude&gt; null (1 :: 2 :: nil)
false
Stdlib.Prelude&gt; swap (1, 2)
(2, 1)
</code></pre></div>
<h2 id="files-modules-and-compilation">Files, modules and compilation<a class="headerlink" href="#files-modules-and-compilation" title="Permanent link">&para;</a></h2>
<p>Currently, the REPL does not support adding new definitions. To define new
functions or data types, you need to put them in a separate file and either load
the file in the REPL with <code>:load file.juvix</code>, evaluate it with the shell command
<code>juvix eval file.juvix</code>, or compile it to a binary executable with <code>juvix
compile file.juvix</code>.</p>
<p>To conveniently edit Juvix files, an <a href="../emacs/">Emacs mode</a> and a <a href="../vscode.juvix/">VSCode
extension</a> are available.</p>
<p>A Juvix file must declare a module whose name corresponds exactly to the name of
the file. For example, a file <code>Hello.juvix</code> must declare a module <code>Hello</code>:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="749"><span class="annot"><a href="#749"><span class="annot"><a href="#749"><span class="ju-var">Hello</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="748"><span class="annot"><a href="#748"><span class="annot"><a href="#748"><span class="ju-function"><br/>  main</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#111"><span class="ju-axiom">String</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-string">&quot;Hello world!&quot;</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>A file compiled to an executable must define the zero-argument function <code>main</code>
which is evaluated when running the program. The definition of <code>main</code> can have
any non-function type, e.g., <code>String</code>, <code>Bool</code> or <code>Nat</code>. The generated executable
prints the result of evaluating <code>main</code>.</p>
<p>All the examples we will showcase will be located in separate modules to
showcase all dependencies used explicitly. Note that all the formatted Juvix
code one sees in the tutorial is contained in one Juvix file with no imports.
Hence when we <code>open</code> a module without importing, this is due to the fact that
the opened module is already contained in the file.</p>
<h2 id="data-types-and-functions">Data types and functions<a class="headerlink" href="#data-types-and-functions" title="Permanent link">&para;</a></h2>
<p>To see the type of an expression, use the <code>:type</code> REPL command:</p>
<div class="highlight"><pre><span></span><code>Stdlib.Prelude&gt; :type 1
Nat
Stdlib.Prelude&gt; :type true
Bool
</code></pre></div>
<p>The types <code>Nat</code> and <code>Bool</code> are defined in the standard library.</p>
<p>The type <code>Bool</code> has two constructors <code>true</code> and <code>false</code>.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="754"><span class="annot"><a href="#754"><span class="annot"><a href="#754"><span class="ju-var">Bool</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">type</span> <span id="750"><span class="annot"><a href="#750"><span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="751"><span class="annot"><a href="#751"><span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span></a></span></span><br/>    <span class="ju-keyword">|</span> <span id="752"><span class="annot"><a href="#752"><span class="annot"><a href="#752"><span class="ju-constructor">false</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The constructors of a data type can be used to build elements of the type. They
can also appear as patterns in function definitions. For example, the <code>not</code>
function is defined in the standard library by:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="756"><span class="annot"><a href="#756"><span class="annot"><a href="#756"><span class="ju-var">Bool-Not</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#754"><span class="ju-var">Bool</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="755"><span class="annot"><a href="#755"><span class="annot"><a href="#755"><span class="ju-function"><br/>  not</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#752"><span class="ju-constructor">false</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#752"><span class="ju-constructor">false</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The type of the definition is specified after the colon. In this case, <code>not</code> is
a function from <code>Bool</code> to <code>Bool</code>. The type is followed by two <em>function clauses</em>
which specify the function result depending on the shape of the arguments. When
a function call is evaluated, the first clause that matches the arguments is
used.</p>
<p>In contrast to languages like Python, Java or C/C++, Juvix doesn't require
parentheses for function calls. All the arguments are just listed after the
function. The general pattern for function application is: <code>func arg1 arg2 arg3
...</code></p>
<p>Initial arguments that are matched against variables or wildcards in all clauses
can be moved to the left of the colon. For example,</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="759"><span class="annot"><a href="#759"><span class="annot"><a href="#759"><span class="ju-var">Bool-Or</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#754"><span class="ju-var">Bool</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="757"><span class="annot"><a href="#757"><span class="annot"><a href="#757"><span class="ju-function"><br/>  or</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#758"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="ju-keyword">_</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#758"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>is equivalent to</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="762"><span class="annot"><a href="#762"><span class="annot"><a href="#762"><span class="ju-var">Bool-Or-Altl</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#754"><span class="ju-var">Bool</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="760"><span class="annot"><a href="#760"><span class="annot"><a href="#760"><span class="ju-function"><br/>  or</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="ju-keyword">_</span> <span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="761"><span class="annot"><a href="#761"><span class="annot"><a href="#761"><span class="ju-var">x</span></a></span></a></span></span> <span class="ju-keyword">_</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#761"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>
<p>If there is only one clause and all arguments are to the left of the colon, the
pipe <code>|</code> should be omitted:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="765"><span class="annot"><a href="#765"><span class="annot"><a href="#765"><span class="ju-var">Bool-Id</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#754"><span class="ju-var">Bool</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="763"><span class="annot"><a href="#763"><span class="annot"><a href="#763"><span class="ju-function"><br/>  id</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#764"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#764"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>A more complex example of a data type is the <code>Nat</code> type from the standard
library:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="770"><span class="annot"><a href="#770"><span class="annot"><a href="#770"><span class="ju-var">Nat</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">type</span> <span id="766"><span class="annot"><a href="#766"><span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="767"><span class="annot"><a href="#767"><span class="annot"><a href="#767"><span class="ju-constructor">zero</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="768"><span class="annot"><a href="#768"><span class="annot"><a href="#768"><span class="ju-constructor">suc</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The constructor <code>zero</code> represents <code>0</code> and <code>suc</code> represents the successor
function  <code>suc n</code> is the successor of <code>n</code>, i.e., <code>n+1</code>. For example, <code>suc zero</code>
represents <code>1</code>. The number literals <code>0</code>, <code>1</code>, <code>2</code>, etc., are just shorthands for
appropriate expressions built using <code>suc</code> and <code>zero</code>.</p>
<p>The constructors of a data type specify how the elements of the type can be
constructed. For instance, the above definition specifies that an element of
<code>Nat</code> is either:</p>
<ul>
<li><code>zero</code>, or</li>
<li><code>suc n</code> where <code>n</code> is an element of <code>Nat</code>, i.e., it is constructed by applying
  <code>suc</code> to appropriate arguments (in this case the argument of <code>suc</code> has type
  <code>Nat</code>).</li>
</ul>
<p>Any element of <code>Nat</code> can be built with the constructors in this way  there are
no other elements. Mathematically, this is an inductive definition, which is why
the data type is called <em>inductive</em>.</p>
<p>Constructors can either by specified by listing their types after colons like in
the above definition of <code>Nat</code>, or with a shorter <em>ADT syntax</em> like in the
definition of <code>Bool</code>. The ADT syntax is similar to data type definition syntax
in functional languages like Haskell or OCaml: one lists the types of
constructor arguments separated by spaces. In this syntax, the <code>Nat</code> type could
be defined by</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="775"><span class="annot"><a href="#775"><span class="annot"><a href="#775"><span class="ju-var">Nat-Alt</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">type</span> <span id="771"><span class="annot"><a href="#771"><span class="annot"><a href="#771"><span class="ju-inductive">Nat</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="772"><span class="annot"><a href="#772"><span class="annot"><a href="#772"><span class="ju-constructor">zero</span></a></span></a></span></span><br/>    <span class="ju-keyword">|</span> <span id="773"><span class="annot"><a href="#773"><span class="annot"><a href="#773"><span class="ju-constructor">suc</span></a></span></a></span></span> <span class="annot"><a href="#771"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>If implemented directly, the above unary representation of natural numbers would
be extremely inefficient. The Juvix compiler uses a binary number representation
under the hood and implements arithmetic operations using corresponding machine
instructions, so the performance of natural number arithmetic is similar to
other programming languages. The <code>Nat</code> type is a high-level presentation of
natural numbers as seen by the user who does not need to worry about low-level
arithmetic implementation details.</p>
<p>One can use <code>zero</code> and <code>suc</code> in pattern matching, like any other constructors:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="780"><span class="annot"><a href="#780"><span class="annot"><a href="#780"><span class="ju-var">Nat-Add</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#2"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Data<span class="ju-delimiter">.</span>Fixity</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#770"><span class="ju-var">Nat</span></a></span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="ju-var">+</span> <span class="ju-var">additive</span><span class="ju-delimiter">;</span><br/>  <span id="776"><span class="annot"><a href="#776"><span class="annot"><a href="#776"><span class="ju-function">+</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#767"><span class="ju-constructor">zero</span></a></span> <span id="777"><span class="annot"><a href="#777"><span class="annot"><a href="#777"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#777"><span class="ju-var">b</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#768"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="778"><span class="annot"><a href="#778"><span class="annot"><a href="#778"><span class="ju-var">a</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="779"><span class="annot"><a href="#779"><span class="annot"><a href="#779"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#768"><span class="ju-constructor">suc</span></a></span> <span class="annot"><a href="#778"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span> <span class="annot"><a href="#776"><span class="ju-function">+</span></a></span> <span class="annot"><a href="#779"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The <code>syntax operator + additive</code> declares <code>+</code> to be an operator with the
<code>additive</code> fixity. The <code>+</code> is an ordinary function, except that function
application for <code>+</code> is written in infix notation. The definitions of the clauses
of <code>+</code> still need the prefix notation on the left-hand sides. Note that to use
this definition in the code one needs to import and open <code>Stdlib.Data.Fixity</code>.</p>
<p>The <code>a</code> and <code>b</code> in the patterns on the left-hand sides of the clauses are
<em>variables</em> which match arbitrary values of the corresponding type. They can be
used on the right-hand side to refer to the values matched. For example, when
evaluating</p>
<div class="highlight"><pre><span></span><code>(suc (suc zero)) + zero
</code></pre></div>
<p>the second clause of <code>+</code> matches, assigning <code>suc zero</code> to <code>a</code> and <code>zero</code> to <code>b</code>.
Then the right-hand side of the clause is evaluated with <code>a</code> and <code>b</code> substituted
by these values:</p>
<div class="highlight"><pre><span></span><code>suc (suc zero + zero)
</code></pre></div>
<p>Again, the second clause matches, now with both <code>a</code> and <code>b</code> being <code>zero</code>. After
replacing with the right-hand side, we obtain:</p>
<div class="highlight"><pre><span></span><code>suc (suc (zero + zero))
</code></pre></div>
<p>Now the first clause matches and finally we obtain the result</p>
<div class="highlight"><pre><span></span><code>suc (suc zero)
</code></pre></div>
<p>which is just <code>2</code>.</p>
<p>The function <code>+</code> is defined like above in the standard library, but the Juvix
compiler treats it specially and generates efficient code using appropriate CPU
instructions.</p>
<h2 id="pattern-matching">Pattern matching<a class="headerlink" href="#pattern-matching" title="Permanent link">&para;</a></h2>
<p>The patterns in function clauses do not have to match on a single constructor 
they may be arbitrarily deep. For example, here is an (inefficient)
implementation of a function which checks whether a natural number is even:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="783"><span class="annot"><a href="#783"><span class="annot"><a href="#783"><span class="ju-var">Even</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#770"><span class="ju-var">Nat</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#754"><span class="ju-var">Bool</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="781"><span class="annot"><a href="#781"><span class="annot"><a href="#781"><span class="ju-function"><br/>  even</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#767"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#768"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="#767"><span class="ju-constructor">zero</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#752"><span class="ju-constructor">false</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#768"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="#768"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="782"><span class="annot"><a href="#782"><span class="annot"><a href="#782"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#781"><span class="ju-function">even</span></a></span> <span class="annot"><a href="#782"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>This definition states that a natural number <code>n</code> is even if either <code>n</code> is <code>zero</code>
or, recursively, <code>n-2</code> is even.</p>
<p>If a subpattern is to be ignored, then one can use a wildcard <code>_</code> instead of
naming the subpattern.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="785"><span class="annot"><a href="#785"><span class="annot"><a href="#785"><span class="ju-var">Positive</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#770"><span class="ju-var">Nat</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#754"><span class="ju-var">Bool</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="784"><span class="annot"><a href="#784"><span class="annot"><a href="#784"><span class="ju-function"><br/>  isPositive</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#767"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#752"><span class="ju-constructor">false</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#768"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="ju-keyword">_</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The above function could also be written as:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="787"><span class="annot"><a href="#787"><span class="annot"><a href="#787"><span class="ju-var">Positive-Alt</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#770"><span class="ju-var">Nat</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#754"><span class="ju-var">Bool</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="786"><span class="annot"><a href="#786"><span class="annot"><a href="#786"><span class="ju-function"><br/>  isPositive</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#767"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#752"><span class="ju-constructor">false</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="ju-keyword">_</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>It is not necessary to define a separate function to perform pattern matching.
One can use the <code>case</code> syntax to pattern match an expression directly.</p>
<div class="highlight"><pre><span></span><code>Stdlib.Prelude&gt; case (1, 2) | (suc _, zero) := 0 | (suc _, suc x) := x | _ := 19
1
</code></pre></div>
<p>It is possible to name subpatterns with <code>@</code>.</p>
<div class="highlight"><pre><span></span><code>Stdlib.Prelude&gt; case 3 | suc n@(suc _) := n | _ := 0
2
</code></pre></div>
<h2 id="comparisons-and-conditionals">Comparisons and conditionals<a class="headerlink" href="#comparisons-and-conditionals" title="Permanent link">&para;</a></h2>
<p>The standard library includes all the expected comparison operators: <code>&lt;</code>, <code>&lt;=</code>,
<code>&gt;</code>, <code>&gt;=</code>, <code>==</code>, <code>/=</code>, <code>min</code>, <code>max</code>. Similarly to arithmetic operations, the
comparisons are in fact defined generically for different datatypes using
traits, which are out of the scope of this tutorial. For basic usage, one can
assume that the comparisons operate on natural numbers.</p>
<p>For example, one may define the function <code>max3</code> by using the type Nat, functions
<code>&gt;</code> ,and <code>max</code> provided in the Standard Library:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="792"><span class="annot"><a href="#792"><span class="annot"><a href="#792"><span class="ju-var">max3-example</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="788"><span class="annot"><a href="#788"><span class="annot"><a href="#788"><span class="ju-function"><br/>  max3</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#789"><span class="ju-var">x</span></a></span> <span class="annot"><a href="#790"><span class="ju-var">y</span></a></span> <span class="annot"><a href="#791"><span class="ju-var">z</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#41"><span class="ju-function">if</span></a></span> <span class="annot"><a href="#789"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="#82"><span class="ju-function">&gt;</span></a></span> <span class="annot"><a href="#790"><span class="ju-var">y</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#85"><span class="ju-function"><span class="ju-delimiter">(</span>max</span></a></span> <span class="annot"><a href="#789"><span class="ju-var">x</span></a></span> <span class="annot"><a href="#791"><span class="ju-var">z</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#85"><span class="ju-function"><span class="ju-delimiter">(</span>max</span></a></span> <span class="annot"><a href="#790"><span class="ju-var">y</span></a></span> <span class="annot"><a href="#791"><span class="ju-var">z</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The conditional <code>if</code> is a special function which is evaluated lazily, i.e.,
first the condition (the first argument) is evaluated, and then depending on its
truth-value one of the branches (the second or the third argument) is evaluated
and returned.</p>
<p>By default, evaluation in Juvix is <em>eager</em> (or <em>strict</em>), meaning that the
arguments to a function are fully evaluated before applying the function. Only
<code>if</code>, <code>||</code> and <code>&amp;&amp;</code> are treated specially and evaluated lazily. These special
functions cannot be partially applied (see <a href="./#partial-application-and-higher-order-functions">Partial application and higher-order
functions</a> below).</p>
<h2 id="local-definitions">Local definitions<a class="headerlink" href="#local-definitions" title="Permanent link">&para;</a></h2>
<p>Juvix supports local definitions with let-expressions.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="797"><span class="annot"><a href="#797"><span class="annot"><a href="#797"><span class="ju-var">Let-Mult</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="793"><span class="annot"><a href="#793"><span class="annot"><a href="#793"><span class="ju-function"><br/>  f</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#794"><span class="ju-var">a</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">let</span><br/>      <span id="795"><span class="annot"><a href="#795"><span class="annot"><a href="#795"><span class="ju-function">x</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#794"><span class="ju-var">a</span></a></span> <span class="annot"><a href="#517"><span class="ju-function">+</span></a></span> <span class="ju-number">5</span><span class="ju-delimiter">;</span><br/>      <span id="796"><span class="annot"><a href="#796"><span class="annot"><a href="#796"><span class="ju-function">y</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#794"><span class="ju-var">a</span></a></span> <span class="annot"><a href="#518"><span class="ju-function">*</span></a></span> <span class="ju-number">7</span> <span class="annot"><a href="#517"><span class="ju-function">+</span></a></span> <span class="annot"><a href="#795"><span class="ju-function">x</span></a></span><span class="ju-delimiter">;</span><br/>    <span class="ju-keyword">in</span> <span class="annot"><a href="#795"><span class="ju-function">x</span></a></span> <span class="annot"><a href="#518"><span class="ju-function">*</span></a></span> <span class="annot"><a href="#796"><span class="ju-function">y</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The variables <code>x</code> and <code>y</code> are not visible outside <code>f</code>.</p>
<p>One can also use multi-clause definitions in <code>let</code>-expressions, with the same
syntax as definitions inside a module. For example:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="803"><span class="annot"><a href="#803"><span class="annot"><a href="#803"><span class="ju-var">Let-Even</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#770"><span class="ju-var">Nat</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#754"><span class="ju-var">Bool</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="798"><span class="annot"><a href="#798"><span class="annot"><a href="#798"><span class="ju-function"><br/>  even</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">let</span><br/>      <span id="799"><span class="annot"><a href="#799"><span class="annot"><a href="#799"><span class="ju-function">even&#39;</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#767"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#751"><span class="ju-constructor">true</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#768"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="801"><span class="annot"><a href="#801"><span class="annot"><a href="#801"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#800"><span class="ju-function">odd&#39;</span></a></span> <span class="annot"><a href="#801"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span><br/>      <span id="800"><span class="annot"><a href="#800"><span class="annot"><a href="#800"><span class="ju-function">odd&#39;</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#750"><span class="ju-inductive">Bool</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#767"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#752"><span class="ju-constructor">false</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#768"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="802"><span class="annot"><a href="#802"><span class="annot"><a href="#802"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#799"><span class="ju-function">even&#39;</span></a></span> <span class="annot"><a href="#802"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span><br/>    <span class="ju-keyword">in</span> <span class="annot"><a href="#799"><span class="ju-function">even&#39;</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The functions <code>even'</code> and <code>odd'</code> are not visible outside <code>even</code>.</p>
<h2 id="recursion">Recursion<a class="headerlink" href="#recursion" title="Permanent link">&para;</a></h2>
<p>Juvix is a purely functional language, which means that functions have no side
effects and all variables are immutable. An advantage of functional programming
is that all expressions are <em>referentially transparent</em>  any expression can be
replaced by its value without changing the meaning of the program. This makes it
easier to reason about programs, in particular to prove their correctness. No
errors involving implicit state are possible, because the state is always
explicit.</p>
<p>In a functional language, there are no imperative loops. Repetition is expressed
using recursion. In many cases, the recursive definition of a function follows
the inductive definition of a data structure the function analyses. For example,
consider the following inductive type of lists of natural numbers:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="808"><span class="annot"><a href="#808"><span class="annot"><a href="#808"><span class="ju-var">NList</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">type</span> <span id="804"><span class="annot"><a href="#804"><span class="annot"><a href="#804"><span class="ju-inductive">NList</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="805"><span class="annot"><a href="#805"><span class="annot"><a href="#805"><span class="ju-constructor">nnil</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#804"><span class="ju-inductive">NList</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="806"><span class="annot"><a href="#806"><span class="annot"><a href="#806"><span class="ju-constructor">ncons</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#804"><span class="ju-inductive">NList</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#804"><span class="ju-inductive">NList</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>An element of <code>NList</code> is either <code>nnil</code> (empty) or <code>ncons x xs</code> where <code>x : Nat</code>
and <code>xs : NList</code> (a list with head <code>x</code> and tail <code>xs</code>).</p>
<p>A function computing the length of a list may be defined by:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="811"><span class="annot"><a href="#811"><span class="annot"><a href="#811"><span class="ju-var">NLength</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#808"><span class="ju-var">NList</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="809"><span class="annot"><a href="#809"><span class="annot"><a href="#809"><span class="ju-function"><br/>  nlength</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#804"><span class="ju-inductive">NList</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#805"><span class="ju-constructor">nnil</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#806"><span class="ju-constructor"><span class="ju-delimiter">(</span>ncons</span></a></span> <span class="ju-keyword">_</span> <span id="810"><span class="annot"><a href="#810"><span class="annot"><a href="#810"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#809"><span class="ju-function">nlength</span></a></span> <span class="annot"><a href="#810"><span class="ju-var">xs</span></a></span> <span class="annot"><a href="#517"><span class="ju-function">+</span></a></span> <span class="ju-number">1</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The definition follows the inductive definition of <code>NList</code>. There are two
function clauses for the two constructors. The case for <code>nnil</code> is easy  the
constructor has no arguments and the length of the empty list is <code>0</code>. For a
constructor with some arguments, one typically needs to express the result of
the function in terms of the constructor arguments, usually calling the function
recursively on the constructor's inductive arguments (for <code>ncons</code> this is the
second argument). In the case of <code>ncons _ xs</code>, we recursively call <code>nlength</code> on
<code>xs</code> and add <code>1</code> to the result.</p>
<p>Let's consider another example  a function which returns the maximum of the
numbers in a list or 0 for the empty list.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="815"><span class="annot"><a href="#815"><span class="annot"><a href="#815"><span class="ju-var">NMaximum</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#808"><span class="ju-var">NList</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="812"><span class="annot"><a href="#812"><span class="annot"><a href="#812"><span class="ju-function"><br/>  nmaximum</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#804"><span class="ju-inductive">NList</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#805"><span class="ju-constructor">nnil</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#806"><span class="ju-constructor"><span class="ju-delimiter">(</span>ncons</span></a></span> <span id="813"><span class="annot"><a href="#813"><span class="annot"><a href="#813"><span class="ju-var">x</span></a></span></a></span></span> <span id="814"><span class="annot"><a href="#814"><span class="annot"><a href="#814"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#85"><span class="ju-function">max</span></a></span> <span class="annot"><a href="#813"><span class="ju-var">x</span></a></span> <span class="annot"><a href="#812"><span class="ju-function"><span class="ju-delimiter">(</span>nmaximum</span></a></span> <span class="annot"><a href="#814"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Again, there is a clause for each constructor. In the case for <code>ncons</code>, we
recursively call the function on the list tail and take the maximum of the
result and the list head.</p>
<p>For an example of a constructor with more than one inductive argument, consider
binary trees with natural numbers in nodes.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="820"><span class="annot"><a href="#820"><span class="annot"><a href="#820"><span class="ju-var">Tree</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#770"><span class="ju-var">Nat</span></a></span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">type</span> <span id="816"><span class="annot"><a href="#816"><span class="annot"><a href="#816"><span class="ju-inductive">Tree</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="817"><span class="annot"><a href="#817"><span class="annot"><a href="#817"><span class="ju-constructor">leaf</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#816"><span class="ju-inductive">Tree</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="818"><span class="annot"><a href="#818"><span class="annot"><a href="#818"><span class="ju-constructor">node</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#766"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#816"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#816"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#816"><span class="ju-inductive">Tree</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The constructor <code>node</code> has two inductive arguments (the second and the third)
which represent the left and the right subtree.</p>
<p>A function which produces the mirror image of a tree may be defined by:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="826"><span class="annot"><a href="#826"><span class="annot"><a href="#826"><span class="ju-var">Mirror</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#820"><span class="ju-var">Tree</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="821"><span class="annot"><a href="#821"><span class="annot"><a href="#821"><span class="ju-function"><br/>  mirror</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#816"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#816"><span class="ju-inductive">Tree</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#817"><span class="ju-constructor"><span class="ju-delimiter">(</span>leaf</span></a></span> <span id="822"><span class="annot"><a href="#822"><span class="annot"><a href="#822"><span class="ju-var">x</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#817"><span class="ju-constructor">leaf</span></a></span> <span class="annot"><a href="#822"><span class="ju-var">x</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#818"><span class="ju-constructor"><span class="ju-delimiter">(</span>node</span></a></span> <span id="823"><span class="annot"><a href="#823"><span class="annot"><a href="#823"><span class="ju-var">x</span></a></span></a></span></span> <span id="824"><span class="annot"><a href="#824"><span class="annot"><a href="#824"><span class="ju-var">l</span></a></span></a></span></span> <span id="825"><span class="annot"><a href="#825"><span class="annot"><a href="#825"><span class="ju-var">r</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#818"><span class="ju-constructor">node</span></a></span> <span class="annot"><a href="#823"><span class="ju-var">x</span></a></span> <span class="annot"><a href="#821"><span class="ju-function"><span class="ju-delimiter">(</span>mirror</span></a></span> <span class="annot"><a href="#825"><span class="ju-var">r</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#821"><span class="ju-function"><span class="ju-delimiter">(</span>mirror</span></a></span> <span class="annot"><a href="#824"><span class="ju-var">l</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The definition of <code>mirror</code> follows the definition of <code>Tree</code>. There are two
recursive calls for the two inductive constructors of <code>node</code> (the subtrees).</p>
<h2 id="partial-application-and-higher-order-functions">Partial application and higher-order functions<a class="headerlink" href="#partial-application-and-higher-order-functions" title="Permanent link">&para;</a></h2>
<p>Strictly speaking, all Juvix functions have only one argument. Multi-argument
functions are really functions which return a function which takes the next
argument and returns a function taking another argument, and so on for all
arguments. The function type former <code>-&gt;</code> (the arrow) is right-associative.
Hence, the type, e.g., <code>Nat -&gt; Nat -&gt; Nat</code> when fully parenthesised becomes <code>Nat
-&gt; (Nat -&gt; Nat)</code>. It is the type of functions which given an argument of type
<code>Nat</code> return a function of type <code>Nat -&gt; Nat</code> which itself takes an argument of
type <code>Nat</code> and produces a result of type <code>Nat</code>. Function application is
left-associative. For example, <code>f a b</code> when fully parenthesised becomes <code>(f a)
b</code>. So it is an application to <code>b</code> of the function obtained by applying <code>f</code> to
<code>a</code>.</p>
<p>Since a multi-argument function is just a one-argument function returning a
function, it can be <em>partially applied</em> to a smaller number of arguments than
specified in its definition. The result is an appropriate function. For example,
<code>sub 10</code> is a function which subtracts its argument from <code>10</code>, and <code>(+) 1</code> is a
function which adds <code>1</code> to its argument. If the function has been declared as an
infix operator (like <code>+</code>), then for partial application one needs to enclose it
in parentheses.</p>
<p>A function which takes a function as an argument is a <em>higher-order function</em>.
An example is the <code>nmap</code> function which applies a given function to each element
in a list of natural numbers.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="831"><span class="annot"><a href="#831"><span class="annot"><a href="#831"><span class="ju-var">NMap</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#808"><span class="ju-var">NList</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="827"><span class="annot"><a href="#827"><span class="annot"><a href="#827"><span class="ju-function"><br/>  nmap</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#828"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#804"><span class="ju-inductive">NList</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#804"><span class="ju-inductive">NList</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#805"><span class="ju-constructor">nnil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#805"><span class="ju-constructor">nnil</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#806"><span class="ju-constructor"><span class="ju-delimiter">(</span>ncons</span></a></span> <span id="829"><span class="annot"><a href="#829"><span class="annot"><a href="#829"><span class="ju-var">x</span></a></span></a></span></span> <span id="830"><span class="annot"><a href="#830"><span class="annot"><a href="#830"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#806"><span class="ju-constructor">ncons</span></a></span> <span class="annot"><a href="#828"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span> <span class="annot"><a href="#829"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#827"><span class="ju-function"><span class="ju-delimiter">(</span>nmap</span></a></span> <span class="annot"><a href="#828"><span class="ju-var">f</span></a></span> <span class="annot"><a href="#830"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The application</p>
<div class="highlight"><pre><span></span><code>nmap \{ x := div x 2 } lst
</code></pre></div>
<p>divides every element of <code>lst</code> by <code>2</code>, rounding down the result. The expression</p>
<div class="highlight"><pre><span></span><code>\{ x := div x 2 }
</code></pre></div>
<p>is an unnamed function, or a <em>lambda</em>, which divides its argument by <code>2</code>.</p>
<h2 id="polymorphism">Polymorphism<a class="headerlink" href="#polymorphism" title="Permanent link">&para;</a></h2>
<p>The type <code>NList</code> we have been working with above requires the list elements to
be natural numbers. It is possible to define lists <em>polymorphically</em>,
parameterising them by the element type. This is similar to generics in
languages like Java, C++ or Rust. Here is the polymorphic definition of lists
from the standard library:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="837"><span class="annot"><a href="#837"><span class="annot"><a href="#837"><span class="ju-var">List</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#2"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Data<span class="ju-delimiter">.</span>Fixity</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="ju-var">::</span> <span class="ju-var">cons</span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">type</span> <span id="832"><span class="annot"><a href="#832"><span class="annot"><a href="#832"><span class="ju-inductive">List</span></a></span></a></span></span> <span id="836"><span class="annot"><a href="#836"><span class="annot"><a href="#836"><span class="ju-var">A</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="833"><span class="annot"><a href="#833"><span class="annot"><a href="#833"><span class="ju-constructor">nil</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#832"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#836"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="834"><span class="annot"><a href="#834"><span class="annot"><a href="#834"><span class="ju-constructor">::</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#836"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#832"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#836"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#832"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#836"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The constructor <code>::</code> is declared as a right-associative infix operator. The
definition has a parameter <code>A</code> which is the element type. Then <code>List Ty</code> is the
type of lists with elements of type <code>Ty</code>. For example, <code>List Nat</code> is the type of
lists of natural numbers, isomorphic to the type <code>NList</code> defined above.</p>
<p>Now one can define the <code>map</code> function polymorphically:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="844"><span class="annot"><a href="#844"><span class="annot"><a href="#844"><span class="ju-var">Map</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#837"><span class="ju-var">List</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="838"><span class="annot"><a href="#838"><span class="annot"><a href="#838"><span class="ju-function"><br/>  map</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#839"><span class="ju-var">A</span></a></span> <span class="annot"><a href="#840"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#841"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#839"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#840"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#832"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#839"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#832"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#840"><span class="ju-var">B</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#833"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#833"><span class="ju-constructor">nil</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="842"><span class="annot"><a href="#842"><span class="annot"><a href="#842"><span class="ju-var"><span class="ju-delimiter">(</span>h</span></a></span></a></span></span> <span class="annot"><a href="#834"><span class="ju-constructor">::</span></a></span> <span id="843"><span class="annot"><a href="#843"><span class="annot"><a href="#843"><span class="ju-var">hs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#841"><span class="ju-var">f</span></a></span> <span class="annot"><a href="#842"><span class="ju-var">h</span></a></span> <span class="annot"><a href="#834"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#838"><span class="ju-function">map</span></a></span> <span class="annot"><a href="#841"><span class="ju-var">f</span></a></span> <span class="annot"><a href="#843"><span class="ju-var">hs</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>This function has two <em>implicit type arguments</em> <code>A</code> and <code>B</code>. These arguments are
normally omitted in function application  they are inferred automatically
during type checking. The curly braces indicate that the argument is implicit
and should be inferred.</p>
<p>In fact, the constructors <code>nil</code> and <code>::</code> also have an implicit argument: the
type of list elements. All type parameters of a data type definition become
implicit arguments of the constructors.</p>
<p>Usually, the implicit arguments in a function application can be inferred.
However, sometimes this is not possible and then the implicit arguments need to
be provided explicitly by enclosing them in braces:</p>
<div class="highlight"><pre><span></span><code>f {implArg1} .. {implArgK} arg1 .. argN
</code></pre></div>
<dl>
<dt>For example, <code>nil {Nat}</code> has type <code>List Nat</code> while <code>nil</code> by itself has type `{A</dt>
<dd>Type} -&gt; List A`.</dd>
</dl>
<h2 id="tail-recursion">Tail recursion<a class="headerlink" href="#tail-recursion" title="Permanent link">&para;</a></h2>
<p>Any recursive call whose result is further processed by the calling function
needs to create a new stack frame to save the calling function environment. This
means that each such call will use a constant amount of memory. For example, a
function <code>sum</code> implemented as follows will use an additional amount of memory
proportional to the length of the processed list:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="848"><span class="annot"><a href="#848"><span class="annot"><a href="#848"><span class="ju-var">List-Sum</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="845"><span class="annot"><a href="#845"><span class="annot"><a href="#845"><span class="ju-function"><br/>  sum</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>    <span class="ju-keyword">|</span> <span id="846"><span class="annot"><a href="#846"><span class="annot"><a href="#846"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span id="847"><span class="annot"><a href="#847"><span class="annot"><a href="#847"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#846"><span class="ju-var">x</span></a></span> <span class="annot"><a href="#517"><span class="ju-function">+</span></a></span> <span class="annot"><a href="#845"><span class="ju-function">sum</span></a></span> <span class="annot"><a href="#847"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>This is not acceptable if you care about performance. In an imperative language,
one would use a simple loop going over the list without any memory allocation.
In pseudocode:</p>
<div class="highlight"><pre><span></span><code><span class="k">var</span><span class="w"> </span><span class="nb">sum</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Nat</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>

<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">lst</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="k">nil</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="k">begin</span>
<span class="w">  </span><span class="nb">sum</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="n">lst</span><span class="o">;</span>
<span class="w">  </span><span class="n">lst</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">tail</span><span class="w"> </span><span class="n">lst</span><span class="o">;</span>
<span class="k">end</span><span class="o">;</span>

<span class="bp">result</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">sum</span><span class="o">;</span>
</code></pre></div>
<p>Fortunately, it is possible to rewrite this function to use <em>tail recursion</em>. A
recursive call is <em>tail recursive</em> if its result is also the result of the
calling function, i.e., the calling function returns immediately after it
without further processing. The Juvix compiler <em>guarantees</em> that all tail calls
will be eliminated, i.e., that they will be compiled to simple jumps without
extra memory allocation. In a tail recursive call, instead of creating a new
stack frame, the old one is reused.</p>
<p>The following implementation of <code>sum</code> uses tail recursion.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="855"><span class="annot"><a href="#855"><span class="annot"><a href="#855"><span class="ju-var">List-Sum-Tail</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="849"><span class="annot"><a href="#849"><span class="annot"><a href="#849"><span class="ju-function"><br/>  sum</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#850"><span class="ju-var">lst</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">let</span><br/>      <span id="851"><span class="annot"><a href="#851"><span class="annot"><a href="#851"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#852"><span class="ju-var">acc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#852"><span class="ju-var">acc</span></a></span><br/>        <span class="ju-keyword">|</span> <span id="853"><span class="annot"><a href="#853"><span class="annot"><a href="#853"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span id="854"><span class="annot"><a href="#854"><span class="annot"><a href="#854"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#851"><span class="ju-function">go</span></a></span> <span class="annot"><a href="#852"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span> <span class="annot"><a href="#517"><span class="ju-function">+</span></a></span> <span class="annot"><a href="#853"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#854"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">;</span><br/>    <span class="ju-keyword">in</span> <span class="annot"><a href="#851"><span class="ju-function">go</span></a></span> <span class="ju-number">0</span> <span class="annot"><a href="#850"><span class="ju-var">lst</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The first argument of <code>go</code> is an <em>accumulator</em> which holds the sum computed so
far. It is analogous to the <code>sum</code> variable in the imperative loop above. The
initial value of the accumulator is 0. The function <code>go</code> uses only constant
additional memory overall. The code generated for it by the Juvix compiler is
equivalent to an imperative loop.</p>
<p>Most imperative loops may be translated into tail recursive functional programs
by converting the locally modified variables into accumulators and the loop
condition into pattern matching. For example, here is an imperative pseudocode
for computing the nth Fibonacci number in linear time. The variables <code>cur</code> and
<code>next</code> hold the last two computed Fibonacci numbers.</p>
<div class="highlight"><pre><span></span><code><span class="k">var</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Nat</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Nat</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>

<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="k">begin</span>
<span class="w">  </span><span class="n">tmp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">next</span><span class="o">;</span>
<span class="w">  </span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">next</span><span class="o">;</span>
<span class="w">  </span><span class="n">cur</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">tmp</span><span class="o">;</span>
<span class="w">  </span><span class="n">n</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<span class="k">end</span><span class="o">;</span>

<span class="bp">result</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">cur</span><span class="o">;</span>
</code></pre></div>
<p>An equivalent functional program is:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="861"><span class="annot"><a href="#861"><span class="annot"><a href="#861"><span class="ju-var">Fibonacci-tail</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="856"><span class="annot"><a href="#856"><span class="annot"><a href="#856"><span class="ju-function"><br/>  fib</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">let</span><br/>      <span id="857"><span class="annot"><a href="#857"><span class="annot"><a href="#857"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#858"><span class="ju-var">cur</span></a></span> <span class="annot"><a href="#859"><span class="ju-var">next</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#858"><span class="ju-var">cur</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="860"><span class="annot"><a href="#860"><span class="annot"><a href="#860"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#857"><span class="ju-function">go</span></a></span> <span class="annot"><a href="#859"><span class="ju-var">next</span></a></span> <span class="annot"><a href="#858"><span class="ju-var"><span class="ju-delimiter">(</span>cur</span></a></span> <span class="annot"><a href="#517"><span class="ju-function">+</span></a></span> <span class="annot"><a href="#859"><span class="ju-var">next</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#860"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span><br/>    <span class="ju-keyword">in</span> <span class="annot"><a href="#857"><span class="ju-function">go</span></a></span> <span class="ju-number">0</span> <span class="ju-number">1</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>A naive definition of the Fibonacci function runs in exponential time:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="864"><span class="annot"><a href="#864"><span class="annot"><a href="#864"><span class="ju-var">Fibonacci-Pattern</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="862"><span class="annot"><a href="#862"><span class="annot"><a href="#862"><span class="ju-function"><br/>  fib</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="ju-number">1</span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="863"><span class="annot"><a href="#863"><span class="annot"><a href="#863"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#862"><span class="ju-function">fib</span></a></span> <span class="annot"><a href="#863"><span class="ju-var">n</span></a></span> <span class="annot"><a href="#517"><span class="ju-function">+</span></a></span> <span class="annot"><a href="#862"><span class="ju-function">fib</span></a></span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="#863"><span class="ju-var">n</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Tail recursion is less useful when the function needs to allocate memory anyway.
For example, one could make the <code>map</code> function from the previous section tail
recursive, but the time and memory use would still be proportional to the length
of the input because of the need to allocate the result list. In fact, a tail
recursive <code>map</code> needs to allocate and discard an intermediate list which is
reversed in the end to preserve the original element order:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="873"><span class="annot"><a href="#873"><span class="annot"><a href="#873"><span class="ju-var">List-Map-Tail</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span> <span class="ju-keyword">hiding</span> <span class="ju-delimiter">{</span><span class="annot"><a href="#267"><span class="ju-function">map</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span><br/>  <span id="865"><span class="annot"><a href="#865"><span class="annot"><a href="#865"><span class="ju-function"><br/>  map</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#866"><span class="ju-var">A</span></a></span> <span class="annot"><a href="#867"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#868"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#866"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#867"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#866"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#867"><span class="ju-var">B</span></a></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">let</span><br/>      <span id="869"><span class="annot"><a href="#869"><span class="annot"><a href="#869"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#870"><span class="ju-var">acc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#867"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#866"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#867"><span class="ju-var">B</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#270"><span class="ju-function">reverse</span></a></span> <span class="annot"><a href="#870"><span class="ju-var">acc</span></a></span><br/>        <span class="ju-keyword">|</span> <span id="871"><span class="annot"><a href="#871"><span class="annot"><a href="#871"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span id="872"><span class="annot"><a href="#872"><span class="annot"><a href="#872"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#869"><span class="ju-function">go</span></a></span> <span class="annot"><a href="#868"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span> <span class="annot"><a href="#871"><span class="ju-var">x</span></a></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#870"><span class="ju-var">acc</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#872"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">;</span><br/>    <span class="ju-keyword">in</span> <span class="annot"><a href="#869"><span class="ju-function">go</span></a></span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>So we have replaced stack allocation with heap allocation. This actually
decreases performance.</p>
<p>As a side-note, notice that we used the <code>hiding</code> option while declaring the use
of <code>Stdlib.Prelude</code>. This is due to the fact that the standard library already
has a function named <code>map</code>. Since names are absolute, we need to hide the name
in the standard library in order to define it in our module.</p>
<h3 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h3>
<ul>
<li>Use tail recursion to eliminate stack allocation.</li>
<li>Do not use tail recursion to replace stack allocation with heap allocation.</li>
</ul>
<h2 id="iteration-over-data-structures">Iteration over data structures<a class="headerlink" href="#iteration-over-data-structures" title="Permanent link">&para;</a></h2>
<p>A common use of recursion is to traverse a data structure in a specified order
accumulating some values. For example, the tail recursive <code>sum</code> function fits
this pattern.</p>
<p>Juvix provides special support for data structure traversals with the iterator
syntax. The standard library defines several list iterators, among them <code>for</code>
and <code>rfor</code>. We can implement the <code>sum</code> function using <code>for</code>:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="878"><span class="annot"><a href="#878"><span class="annot"><a href="#878"><span class="ju-var">List-Sum-For</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="874"><span class="annot"><a href="#874"><span class="annot"><a href="#874"><span class="ju-function"><br/>  sum</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#875"><span class="ju-var">l</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#266"><span class="ju-function">for</span></a></span> <span id="876"><span class="annot"><a href="#876"><span class="annot"><a href="#876"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><span class="ju-delimiter">)</span> <span id="877"><span class="annot"><a href="#877"><span class="annot"><a href="#877"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="#875"><span class="ju-var">l</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#877"><span class="ju-var"><span class="ju-delimiter">{</span>x</span></a></span> <span class="annot"><a href="#517"><span class="ju-function">+</span></a></span> <span class="annot"><a href="#876"><span class="ju-var">acc</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The braces around the body (in <code>{x + acc}</code>) are optional. A recommended style is
to use braces if the body is on the same line.</p>
<p>The above <code>for</code> iteration starts with the accumulator <code>acc</code> equal to <code>0</code> and
goes through the list <code>l</code> from left to right (from beginning to end), at each
step updating the accumulator to <code>x + acc</code> where <code>x</code> is the current list element
and <code>acc</code> is the previous accumulator value. The final value of the iteration is
the final value of the accumulator. The `for`` iterator is tail recursive, i.e.,
no stack memory is allocated and the whole iteration is compiled to a loop.</p>
<p>The <code>rfor</code> iterator is analogous to <code>for</code> except that it goes through the list
from right to left (from end to beginning) and is not tail recursive. For
example, one can implement <code>map</code> using <code>rfor</code>:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="886"><span class="annot"><a href="#886"><span class="annot"><a href="#886"><span class="ju-var">List-Map-rfor</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span> <span class="ju-keyword">hiding</span> <span class="ju-delimiter">{</span><span class="annot"><a href="#267"><span class="ju-function">map</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span><br/>  <span id="879"><span class="annot"><a href="#879"><span class="annot"><a href="#879"><span class="ju-function"><br/>  map</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#880"><span class="ju-var">A</span></a></span> <span class="annot"><a href="#881"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#882"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#880"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#881"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#883"><span class="ju-var">l</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#880"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#881"><span class="ju-var">B</span></a></span> <span class="ju-keyword">:=</span><br/>    <span class="annot"><a href="#264"><span class="ju-function">rfor</span></a></span> <span id="884"><span class="annot"><a href="#884"><span class="annot"><a href="#884"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">)</span> <span id="885"><span class="annot"><a href="#885"><span class="annot"><a href="#885"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="#883"><span class="ju-var">l</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#882"><span class="ju-var"><span class="ju-delimiter">{</span>f</span></a></span> <span class="annot"><a href="#885"><span class="ju-var">x</span></a></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#884"><span class="ju-var">acc</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The iterators are just ordinary higher-order Juvix functions which can be used
with the iterator syntax. In fact, the <code>map</code> function from the standard library
can also be used with the iterator syntax. The expression</p>
<div class="highlight"><pre><span></span><code>map (x in l) {body}
</code></pre></div>
<p>is equivalent to</p>
<div class="highlight"><pre><span></span><code>map \{x := body} l
</code></pre></div>
<p>Whenever possible, it is advised to use the standard library iterators instead
of manually writing recursive functions. When reasonable, <code>for</code> should be
preferred to <code>rfor</code>. The iterators provide a readable syntax and the compiler
might be able to optimize them better than manually written recursion.</p>
<h2 id="totality-checking">Totality checking<a class="headerlink" href="#totality-checking" title="Permanent link">&para;</a></h2>
<p>By default, the Juvix compiler requires all functions to be <em>total</em>. Totality
consists of:</p>
<ul>
<li><a href="../../explanations/totality/termination/">termination</a> and
  <a href="../../explanations/totality/coverage/">coverage</a> for function declarations,
  and</li>
<li><a href="../../explanations/totality/positive/">strict positivity</a> for user-defined
  data types.</li>
</ul>
<p>The termination check ensures that all functions are structurally recursive,
i.e., all recursive calls are on structurally smaller values  subpatterns of
the matched pattern.</p>
<p>However, we can still make Juvix accept a non-terminating function via the
<code>terminating</code> keyword, skipping the termination check.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="889"><span class="annot"><a href="#889"><span class="annot"><a href="#889"><span class="ju-var">Non-Terminating-Log</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">terminating</span><br/>  <span id="887"><span class="annot"><a href="#887"><span class="annot"><a href="#887"><span class="ju-function">log2</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#888"><span class="ju-var">n</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#41"><span class="ju-function">if</span></a></span> <span class="annot"><a href="#888"><span class="ju-var"><span class="ju-delimiter">(</span>n</span></a></span> <span class="annot"><a href="#80"><span class="ju-function">&lt;=</span></a></span> <span class="ju-number">1</span><span class="ju-delimiter">)</span> <span class="ju-number">0</span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="#887"><span class="ju-function"><span class="ju-delimiter">(</span>log2</span></a></span> <span class="annot"><a href="#519"><span class="ju-function"><span class="ju-delimiter">(</span>div</span></a></span> <span class="annot"><a href="#888"><span class="ju-var">n</span></a></span> <span class="ju-number">2</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Let us look at other examples. The termination checker rejects the exponent
definition</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="892"><span class="annot"><a href="#892"><span class="annot"><a href="#892"><span class="ju-var">Fact-Non-Terminating</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">terminating</span><br/>  <span id="890"><span class="annot"><a href="#890"><span class="annot"><a href="#890"><span class="ju-function">fact</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#891"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#41"><span class="ju-function">if</span></a></span> <span class="annot"><a href="#891"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="#58"><span class="ju-function">==</span></a></span> <span class="ju-number">0</span><span class="ju-delimiter">)</span> <span class="ju-number">1</span> <span class="annot"><a href="#891"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="#518"><span class="ju-function">*</span></a></span> <span class="annot"><a href="#890"><span class="ju-function">fact</span></a></span> <span class="annot"><a href="#129"><span class="ju-function"><span class="ju-delimiter">(</span>sub</span></a></span> <span class="annot"><a href="#891"><span class="ju-var">x</span></a></span> <span class="ju-number">1</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>without the 'terminating' keyword because the recursive call is not on a
subpattern of a pattern matched on in the clause. One can reformulate this
definition so that it is accepted by the termination checker:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="896"><span class="annot"><a href="#896"><span class="annot"><a href="#896"><span class="ju-var">Fact-Terminating</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="893"><span class="annot"><a href="#893"><span class="annot"><a href="#893"><span class="ju-function"><br/>  fact</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">1</span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#895"><span class="ju-var">x</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="894"><span class="annot"><a href="#894"><span class="annot"><a href="#894"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#895"><span class="ju-var">x</span></a></span> <span class="annot"><a href="#518"><span class="ju-function">*</span></a></span> <span class="annot"><a href="#893"><span class="ju-function">fact</span></a></span> <span class="annot"><a href="#894"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Coverage checking ensures that there are no unhandled patterns in function
clauses or <code>case</code> expressions. For example, the following definition is rejected
because the case <code>suc zero</code> is not handled:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="899"><span class="annot"><a href="#899"><span class="annot"><a href="#899"><span class="ju-var">Even-Not-Pass-Coverage</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="897"><span class="annot"><a href="#897"><span class="annot"><a href="#897"><span class="ju-function"><br/>  even</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#34"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#35"><span class="ju-constructor">true</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="898"><span class="annot"><a href="#898"><span class="annot"><a href="#898"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#897"><span class="ju-function">even</span></a></span> <span class="annot"><a href="#898"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Since coverage checking forces the user to specify the function for all input
values, it may be unclear how to implement functions which are typically
partial. For example, the <code>tail</code> function on lists is often left undefined for
the empty list. One solution is to return a default value. In the Juvix standard
library, <code>tail</code> is implemented as follows, returning the empty list when the
argument is empty.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="903"><span class="annot"><a href="#903"><span class="annot"><a href="#903"><span class="ju-var">List-Tail</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#837"><span class="ju-var">List</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="900"><span class="annot"><a href="#900"><span class="annot"><a href="#900"><span class="ju-function"><br/>  tail</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#901"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#832"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#901"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#832"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#901"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="ju-delimiter">(</span><span class="ju-keyword">_</span> <span class="annot"><a href="#834"><span class="ju-constructor">::</span></a></span> <span id="902"><span class="annot"><a href="#902"><span class="annot"><a href="#902"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#902"><span class="ju-var">xs</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#833"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#833"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Another solution is to wrap the result in the <code>Maybe</code> type from the standard
library, which allows representing optional values. An element of <code>Maybe A</code> is
either <code>nothing</code> or <code>just x</code> with <code>x : A</code>.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="909"><span class="annot"><a href="#909"><span class="annot"><a href="#909"><span class="ju-var">Maybe</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">type</span> <span id="904"><span class="annot"><a href="#904"><span class="annot"><a href="#904"><span class="ju-inductive">Maybe</span></a></span></a></span></span> <span id="908"><span class="annot"><a href="#908"><span class="annot"><a href="#908"><span class="ju-var">A</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="905"><span class="annot"><a href="#905"><span class="annot"><a href="#905"><span class="ju-constructor">nothing</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#904"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="#908"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="906"><span class="annot"><a href="#906"><span class="annot"><a href="#906"><span class="ju-constructor">just</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#908"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#904"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="#908"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>For example, one could define the tail function as:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="913"><span class="annot"><a href="#913"><span class="annot"><a href="#913"><span class="ju-var">Maybe-List-Tail</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#837"><span class="ju-var">List</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">open</span> <span class="annot"><a href="#909"><span class="ju-var">Maybe</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="910"><span class="annot"><a href="#910"><span class="annot"><a href="#910"><span class="ju-function"><br/>  tail</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#911"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#832"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#911"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#904"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="#832"><span class="ju-inductive"><span class="ju-delimiter">(</span>List</span></a></span> <span class="annot"><a href="#911"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span><br/>    <span class="ju-keyword">|</span> <span class="ju-delimiter">(</span><span class="ju-keyword">_</span> <span class="annot"><a href="#834"><span class="ju-constructor">::</span></a></span> <span id="912"><span class="annot"><a href="#912"><span class="annot"><a href="#912"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#906"><span class="ju-constructor">just</span></a></span> <span class="annot"><a href="#912"><span class="ju-var">xs</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#833"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#905"><span class="ju-constructor">nothing</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Then the user needs to explicitly check if the result of the function contains a
value or not:</p>
<div class="highlight"><pre><span></span><code>case (tail&#39; lst)
| just x := ...
| nothing := ...
</code></pre></div>
<h2 id="exercises">Exercises<a class="headerlink" href="#exercises" title="Permanent link">&para;</a></h2>
<p>You have now learnt the very basics of Juvix. To consolidate your understanding
of Juvix and functional programming, try doing some of the following exercises.
To learn how to write more complex Juvix programs, see the <a href="../../examples/html/Tutorial/Tutorial.html">advanced
tutorial</a> and the <a href="../../reference/examples/">Juvix program
examples</a>.</p>
<!-- Include solutions as details -->

<h3 id="warm-up-exercises">Warm-up exercises<a class="headerlink" href="#warm-up-exercises" title="Permanent link">&para;</a></h3>
<h4 id="boolean-operators">Boolean operators<a class="headerlink" href="#boolean-operators" title="Permanent link">&para;</a></h4>
<p>Let's start by defining some functions on booleans.</p>
<p>The type for booleans is defined in the standard library like this:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="918"><span class="annot"><a href="#918"><span class="annot"><a href="#918"><span class="ju-var">Bool-Ex</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">type</span> <span id="914"><span class="annot"><a href="#914"><span class="annot"><a href="#914"><span class="ju-inductive">Bool</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="915"><span class="annot"><a href="#915"><span class="annot"><a href="#915"><span class="ju-constructor">true</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#914"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="916"><span class="annot"><a href="#916"><span class="annot"><a href="#916"><span class="ju-constructor">false</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#914"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Remember that you can import this definition by adding <code>import Stdlib.Prelude
open</code> at the beginning of your module.</p>
<p>Now, define the logical function <code>not</code> by using pattern matching.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The type of your function should be:</p>
<div class="highlight"><pre><span></span><code>        not : Bool -&gt; Bool;
</code></pre></div>
</div>
<p>Now, define the logical functions <code>and</code>, <code>or</code> by using pattern matching as well.
Feel free to experiment and see what happens if your patterns are not
exhaustive, i.e., if not all the cases are covered.</p>
<p>Next, let's define the logical function <code>xor</code>, which should return <code>true</code> if and
only if exactly one of its arguments is <code>true</code>. This time, instead of using
pattern matching, use the previously defined logical functions.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Be wary of using the standard library here as it may cause name conflicts.</p>
</div>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="931"><span class="annot"><a href="#931"><span class="annot"><a href="#931"><span class="ju-var">SolBool</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">type</span> <span id="919"><span class="annot"><a href="#919"><span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="920"><span class="annot"><a href="#920"><span class="annot"><a href="#920"><span class="ju-constructor">true</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="921"><span class="annot"><a href="#921"><span class="annot"><a href="#921"><span class="ju-constructor">false</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="923"><span class="annot"><a href="#923"><span class="annot"><a href="#923"><span class="ju-function"><br/>  not</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#921"><span class="ju-constructor">false</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#920"><span class="ju-constructor">true</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#920"><span class="ju-constructor">true</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#921"><span class="ju-constructor">false</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="924"><span class="annot"><a href="#924"><span class="annot"><a href="#924"><span class="ju-function"><br/>  or</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#921"><span class="ju-constructor">false</span></a></span> <span id="927"><span class="annot"><a href="#927"><span class="annot"><a href="#927"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#927"><span class="ju-var">b</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#920"><span class="ju-constructor">true</span></a></span> <span class="ju-keyword"><em></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#920"><span class="ju-constructor">true</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="925"><span class="annot"><a href="#925"><span class="annot"><a href="#925"><span class="ju-function"><br/>  and</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#920"><span class="ju-constructor">true</span></a></span> <span id="928"><span class="annot"><a href="#928"><span class="annot"><a href="#928"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#928"><span class="ju-var">b</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#921"><span class="ju-constructor">false</span></a></span> <span class="ju-keyword"></em></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#921"><span class="ju-constructor">false</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="926"><span class="annot"><a href="#926"><span class="annot"><a href="#926"><span class="ju-function"><br/>  xor</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#929"><span class="ju-var">a</span></a></span> <span class="annot"><a href="#930"><span class="ju-var">b</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#919"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#925"><span class="ju-function">and</span></a></span> <span class="annot"><a href="#923"><span class="ju-function"><span class="ju-delimiter">(</span>not</span></a></span> <span class="annot"><a href="#925"><span class="ju-function"><span class="ju-delimiter">(</span>and</span></a></span> <span class="annot"><a href="#929"><span class="ju-var">a</span></a></span> <span class="annot"><a href="#930"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="annot"><a href="#924"><span class="ju-function"><span class="ju-delimiter">(</span>or</span></a></span> <span class="annot"><a href="#929"><span class="ju-var">a</span></a></span> <span class="annot"><a href="#930"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="the-maybe-type">The <code>Maybe</code> type<a class="headerlink" href="#the-maybe-type" title="Permanent link">&para;</a></h4>
<p>The <code>NMaybe</code> type encapsulates an optional natural number (the preceding <code>N</code>
stands for <code>Nat</code>). The <code>nnothing</code> constructor is used when the value is missing.
On the other hand, the <code>njust</code> constructor is used when the value is present.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="936"><span class="annot"><a href="#936"><span class="annot"><a href="#936"><span class="ju-var">NMaybe</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">type</span> <span id="932"><span class="annot"><a href="#932"><span class="annot"><a href="#932"><span class="ju-inductive">NMaybe</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="933"><span class="annot"><a href="#933"><span class="annot"><a href="#933"><span class="ju-constructor">nnothing</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#932"><span class="ju-inductive">NMaybe</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="934"><span class="annot"><a href="#934"><span class="annot"><a href="#934"><span class="ju-constructor">njust</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword"></span> <span class="annot"><a href="#932"><span class="ju-inductive">NMaybe</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Let's define a function <code>isJust : NMaybe -&gt; Bool</code> that returns <code>true</code> when the
value is present.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="942"><span class="annot"><a href="#942"><span class="annot"><a href="#942"><span class="ju-var">SolNMaybe-Just</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">type</span> <span id="937"><span class="annot"><a href="#937"><span class="annot"><a href="#937"><span class="ju-inductive">NMaybe</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="938"><span class="annot"><a href="#938"><span class="annot"><a href="#938"><span class="ju-constructor">nnothing</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#937"><span class="ju-inductive">NMaybe</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="939"><span class="annot"><a href="#939"><span class="annot"><a href="#939"><span class="ju-constructor">njust</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword"></span> <span class="annot"><a href="#937"><span class="ju-inductive">NMaybe</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="941"><span class="annot"><a href="#941"><span class="annot"><a href="#941"><span class="ju-function"><br/>  isJust</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#937"><span class="ju-inductive">NMaybe</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#34"><span class="ju-inductive">Bool</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#939"><span class="ju-constructor"><span class="ju-delimiter">(</span>njust</span></a></span> <span class="ju-keyword">_</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#35"><span class="ju-constructor">true</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#938"><span class="ju-constructor">nnothing</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#36"><span class="ju-constructor">false</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Now let's define a function <code>fromMaybe : Nat -&gt; NMaybe -&gt; Nat</code> that given a
<code>NMaybe</code>, returns its value if present and otherwise returns the first argument
as a default value.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="950"><span class="annot"><a href="#950"><span class="annot"><a href="#950"><span class="ju-var">SolNMaybe-From</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">type</span> <span id="943"><span class="annot"><a href="#943"><span class="annot"><a href="#943"><span class="ju-inductive">NMaybe</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="944"><span class="annot"><a href="#944"><span class="annot"><a href="#944"><span class="ju-constructor">nnothing</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#943"><span class="ju-inductive">NMaybe</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="945"><span class="annot"><a href="#945"><span class="annot"><a href="#945"><span class="ju-constructor">njust</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword"></span> <span class="annot"><a href="#943"><span class="ju-inductive">NMaybe</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="947"><span class="annot"><a href="#947"><span class="annot"><a href="#947"><span class="ju-function"><br/>  fromMaybe</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#948"><span class="ju-var">d</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#943"><span class="ju-inductive">NMaybe</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#945"><span class="ju-constructor"><span class="ju-delimiter">(</span>njust</span></a></span> <span id="949"><span class="annot"><a href="#949"><span class="annot"><a href="#949"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#949"><span class="ju-var">n</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#944"><span class="ju-constructor">nnothing</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#948"><span class="ju-var">d</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>It would be useful to have a type that represents optional values of any type.
In Juvix, we can define the polymorphic version of <code>NMaybe</code> like this:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="956"><span class="annot"><a href="#956"><span class="annot"><a href="#956"><span class="ju-var">NMaybe-Poly</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">type</span> <span id="951"><span class="annot"><a href="#951"><span class="annot"><a href="#951"><span class="ju-inductive">Maybe</span></a></span></a></span></span> <span id="955"><span class="annot"><a href="#955"><span class="annot"><a href="#955"><span class="ju-var">A</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="952"><span class="annot"><a href="#952"><span class="annot"><a href="#952"><span class="ju-constructor">nothing</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#951"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="#955"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="953"><span class="annot"><a href="#953"><span class="annot"><a href="#953"><span class="ju-constructor">just</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#955"><span class="ju-var">A</span></a></span> <span class="ju-keyword"></span> <span class="annot"><a href="#951"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="#955"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>In this definition, we parameterize the type <code>Maybe</code> with a generic type <code>A</code>.</p>
<p>Implement again the <code>fromMaybe</code> function, but now, for the polymorphic <code>Maybe</code>
type. Note that in function definitions we must specify the type variables. The
definition of <code>fromMaybe</code> begin with:</p>
<div class="highlight"><pre><span></span><code>fromMaybe {A} (d : A) : Maybe A -&gt; A
</code></pre></div>
<p>Give the implementation.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="961"><span class="annot"><a href="#961"><span class="annot"><a href="#961"><span class="ju-var">SolNMaybe-Poly-From</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="957"><span class="annot"><a href="#957"><span class="annot"><a href="#957"><span class="ju-function"><br/>  fromMaybe</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#958"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#959"><span class="ju-var">d</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#958"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#247"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="#958"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#958"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#249"><span class="ju-constructor"><span class="ju-delimiter">(</span>just</span></a></span> <span id="960"><span class="annot"><a href="#960"><span class="annot"><a href="#960"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#960"><span class="ju-var">n</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#248"><span class="ju-constructor">nothing</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#959"><span class="ju-var">d</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Neat! It is indeed very easy to define polymorphic functions in Juvix.</p>
<p>To get some more practice, give an implementation for <code>maybe</code> which begins with:</p>
<div class="highlight"><pre><span></span><code>maybe {A B} (d : B) (f : A -&gt; B) : Maybe A -&gt; B
</code></pre></div>
<p>This should return the value (if present) applied to the function <code>f</code>. Otherwise
it should return the default value <code>d</code>.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="968"><span class="annot"><a href="#968"><span class="annot"><a href="#968"><span class="ju-var">SolMaybe-Maybe</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="962"><span class="annot"><a href="#962"><span class="annot"><a href="#962"><span class="ju-function"><br/>  maybe</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#963"><span class="ju-var">A</span></a></span> <span class="annot"><a href="#964"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#965"><span class="ju-var">d</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#964"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#966"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#963"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#964"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#247"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="#963"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#964"><span class="ju-var">B</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#249"><span class="ju-constructor"><span class="ju-delimiter">(</span>just</span></a></span> <span id="967"><span class="annot"><a href="#967"><span class="annot"><a href="#967"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#966"><span class="ju-var">f</span></a></span> <span class="annot"><a href="#967"><span class="ju-var">n</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#248"><span class="ju-constructor">nothing</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#965"><span class="ju-var">d</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="list-exercises">List exercises<a class="headerlink" href="#list-exercises" title="Permanent link">&para;</a></h4>
<p>We can define polymorphic lists as follows:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="974"><span class="annot"><a href="#974"><span class="annot"><a href="#974"><span class="ju-var">List-Ex</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#2"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Data<span class="ju-delimiter">.</span>Fixity</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="ju-var">::</span> <span class="ju-var">cons</span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">type</span> <span id="969"><span class="annot"><a href="#969"><span class="annot"><a href="#969"><span class="ju-inductive">List</span></a></span></a></span></span> <span id="973"><span class="annot"><a href="#973"><span class="annot"><a href="#973"><span class="ju-var">A</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="970"><span class="annot"><a href="#970"><span class="annot"><a href="#970"><span class="ju-constructor">nil</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#969"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#973"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="971"><span class="annot"><a href="#971"><span class="annot"><a href="#971"><span class="ju-constructor">::</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#973"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#969"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#973"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#969"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#973"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Let's define a function that returns the first element of a <code>List</code> if it exists.</p>
<p>Is beginning the definition as follows appropriate? If not, why?</p>
<div class="highlight"><pre><span></span><code>head {A} : List A -&gt; A
</code></pre></div>
<p>Try to give an implementation for it.</p>
<details class="info">
<summary>Solution</summary>
<p>As we know, Juvix guarantees that all functions are total.
But we cannot return anything when the list is empty.
Therefore it makes sense to use the <code>Maybe</code> type that we defined in the previous section.
The proper definition of <code>head</code> should be:</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="978"><span class="annot"><a href="#978"><span class="annot"><a href="#978"><span class="ju-var">Sol-Head</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="975"><span class="annot"><a href="#975"><span class="annot"><a href="#975"><span class="ju-function"><br/>  head</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#976"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#976"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#247"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="#976"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#248"><span class="ju-constructor">nothing</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="977"><span class="annot"><a href="#977"><span class="annot"><a href="#977"><span class="ju-var"><span class="ju-delimiter">(</span>h</span></a></span></a></span></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="ju-keyword">_</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#249"><span class="ju-constructor">just</span></a></span> <span class="annot"><a href="#977"><span class="ju-var">h</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>So far we have defined only functions that do not involve looping, but any
non-trivial program will require some sort of repetition, so let's tackle that.</p>
<p>As stated previously, the only way to express repetition in Juivx is by using
<em>recursion</em>. We say that a function is recursive if it is defined in terms of
itself, i.e., the name of the function appears in its body.</p>
<p>The next exercise is to define a function which returns the last element of a
list. This function will need to call itself until it reaches the last element
of the list.</p>
<div class="highlight"><pre><span></span><code>last {A} : List A -&gt; Maybe A;
</code></pre></div>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="983"><span class="annot"><a href="#983"><span class="annot"><a href="#983"><span class="ju-var">Sol-Last</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="979"><span class="annot"><a href="#979"><span class="annot"><a href="#979"><span class="ju-function"><br/>  last</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#980"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#980"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#247"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="#980"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#248"><span class="ju-constructor">nothing</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="981"><span class="annot"><a href="#981"><span class="annot"><a href="#981"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#249"><span class="ju-constructor">just</span></a></span> <span class="annot"><a href="#981"><span class="ju-var">x</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="ju-delimiter">(</span><span class="ju-keyword">_</span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span id="982"><span class="annot"><a href="#982"><span class="annot"><a href="#982"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#979"><span class="ju-function">last</span></a></span> <span class="annot"><a href="#982"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Next, implement a function that concatenates two lists:</p>
<div class="highlight"><pre><span></span><code>  concat {A} : List A -&gt; List A -&gt; List A
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is enough to pattern match the first list.</p>
</div>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="990"><span class="annot"><a href="#990"><span class="annot"><a href="#990"><span class="ju-var">Sol-Concat</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="984"><span class="annot"><a href="#984"><span class="annot"><a href="#984"><span class="ju-function"><br/>  concat</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#985"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#985"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#985"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#985"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span id="986"><span class="annot"><a href="#986"><span class="annot"><a href="#986"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#986"><span class="ju-var">b</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="987"><span class="annot"><a href="#987"><span class="annot"><a href="#987"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span></a></span></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span id="988"><span class="annot"><a href="#988"><span class="annot"><a href="#988"><span class="ju-var">as</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="989"><span class="annot"><a href="#989"><span class="annot"><a href="#989"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#987"><span class="ju-var">a</span></a></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#984"><span class="ju-function">concat</span></a></span> <span class="annot"><a href="#988"><span class="ju-var">as</span></a></span> <span class="annot"><a href="#989"><span class="ju-var">b</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Now write a function that concatenates a list of lists.</p>
<div class="highlight"><pre><span></span><code>  concatMany {A} : List (List A) -&gt; List A
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code>concat</code> may be helpful.</p>
</div>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1001"><span class="annot"><a href="#1001"><span class="annot"><a href="#1001"><span class="ju-var">Sol-Concat-Many</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="991"><span class="annot"><a href="#991"><span class="annot"><a href="#991"><span class="ju-function"><br/>  concat</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#993"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#993"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#993"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#993"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span id="994"><span class="annot"><a href="#994"><span class="annot"><a href="#994"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#994"><span class="ju-var">b</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="995"><span class="annot"><a href="#995"><span class="annot"><a href="#995"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span></a></span></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span id="996"><span class="annot"><a href="#996"><span class="annot"><a href="#996"><span class="ju-var">as</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="997"><span class="annot"><a href="#997"><span class="annot"><a href="#997"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#995"><span class="ju-var">a</span></a></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#991"><span class="ju-function">concat</span></a></span> <span class="annot"><a href="#996"><span class="ju-var">as</span></a></span> <span class="annot"><a href="#997"><span class="ju-var">b</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="992"><span class="annot"><a href="#992"><span class="annot"><a href="#992"><span class="ju-function"><br/>  concatMany</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#998"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#115"><span class="ju-inductive"><span class="ju-delimiter">(</span>List</span></a></span> <span class="annot"><a href="#998"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#998"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="999"><span class="annot"><a href="#999"><span class="annot"><a href="#999"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span></a></span></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span id="1000"><span class="annot"><a href="#1000"><span class="annot"><a href="#1000"><span class="ju-var">as</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#991"><span class="ju-function">concat</span></a></span> <span class="annot"><a href="#999"><span class="ju-var">a</span></a></span> <span class="annot"><a href="#992"><span class="ju-function"><span class="ju-delimiter">(</span>concatMany</span></a></span> <span class="annot"><a href="#1000"><span class="ju-var">as</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Can you give an alternative implementation that uses the <code>rfor</code> iterator? What
would happen if you used <code>for</code> instead of <code>rfor</code>?</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1013"><span class="annot"><a href="#1013"><span class="annot"><a href="#1013"><span class="ju-var">Sol-Concat-rfor</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#2"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Data<span class="ju-delimiter">.</span>Fixity</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="1002"><span class="annot"><a href="#1002"><span class="annot"><a href="#1002"><span class="ju-function"><br/>  concat</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#1004"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1004"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1004"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1004"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span id="1005"><span class="annot"><a href="#1005"><span class="annot"><a href="#1005"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1005"><span class="ju-var">b</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="1006"><span class="annot"><a href="#1006"><span class="annot"><a href="#1006"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span></a></span></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span id="1007"><span class="annot"><a href="#1007"><span class="annot"><a href="#1007"><span class="ju-var">as</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="1008"><span class="annot"><a href="#1008"><span class="annot"><a href="#1008"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1006"><span class="ju-var">a</span></a></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#1002"><span class="ju-function">concat</span></a></span> <span class="annot"><a href="#1007"><span class="ju-var">as</span></a></span> <span class="annot"><a href="#1008"><span class="ju-var">b</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="1003"><span class="annot"><a href="#1003"><span class="annot"><a href="#1003"><span class="ju-function"><br/>  concatMany-iter</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#1009"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1010"><span class="ju-var">m</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#115"><span class="ju-inductive"><span class="ju-delimiter">(</span>List</span></a></span> <span class="annot"><a href="#1009"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1009"><span class="ju-var">A</span></a></span> <span class="ju-keyword">:=</span><br/>    <span class="annot"><a href="#264"><span class="ju-function">rfor</span></a></span> <span id="1011"><span class="annot"><a href="#1011"><span class="annot"><a href="#1011"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">)</span> <span id="1012"><span class="annot"><a href="#1012"><span class="annot"><a href="#1012"><span class="ju-var"><span class="ju-delimiter">(</span>l</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="#1010"><span class="ju-var">m</span></a></span><span class="ju-delimiter">)</span><br/>      <span class="annot"><a href="#1002"><span class="ju-function">concat</span></a></span> <span class="annot"><a href="#1012"><span class="ju-var">l</span></a></span> <span class="annot"><a href="#1011"><span class="ju-var">acc</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>In the previous solution, if you replace <code>rfor</code> by <code>for</code>, the resulting list
will be as if the original list was reversed, but each of the nested lists keep
their original order.</p>
<p>Write a function that reverses a list:</p>
<ul>
<li>using the <code>for</code> iterator,</li>
<li>using tail recursion.</li>
</ul>
<details class="info">
<summary>Solution</summary>
<p>Using the <code>for</code> iterator:</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1019"><span class="annot"><a href="#1019"><span class="annot"><a href="#1019"><span class="ju-var">Sol-Reverse-For</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="1014"><span class="annot"><a href="#1014"><span class="annot"><a href="#1014"><span class="ju-function"><br/>  reverse</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#1015"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1016"><span class="ju-var">xs</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1015"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1015"><span class="ju-var">A</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#266"><span class="ju-function">for</span></a></span> <span id="1017"><span class="annot"><a href="#1017"><span class="annot"><a href="#1017"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">)</span> <span id="1018"><span class="annot"><a href="#1018"><span class="annot"><a href="#1018"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="#1016"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#1018"><span class="ju-var"><span class="ju-delimiter">{</span>x</span></a></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#1017"><span class="ju-var">acc</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
<p>Using tail recursion:</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1026"><span class="annot"><a href="#1026"><span class="annot"><a href="#1026"><span class="ju-var">Sol-Reverse-Tail</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="1020"><span class="annot"><a href="#1020"><span class="annot"><a href="#1020"><span class="ju-function"><br/>  reverse</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#1021"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1021"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1021"><span class="ju-var">A</span></a></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">let</span><br/>      <span id="1022"><span class="annot"><a href="#1022"><span class="annot"><a href="#1022"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1023"><span class="ju-var">acc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1021"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1021"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1021"><span class="ju-var">A</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1023"><span class="ju-var">acc</span></a></span><br/>        <span class="ju-keyword">|</span> <span id="1024"><span class="annot"><a href="#1024"><span class="annot"><a href="#1024"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span id="1025"><span class="annot"><a href="#1025"><span class="annot"><a href="#1025"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1022"><span class="ju-function">go</span></a></span> <span class="annot"><a href="#1024"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#1023"><span class="ju-var">acc</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#1025"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">;</span><br/>    <span class="ju-keyword">in</span> <span class="annot"><a href="#1022"><span class="ju-function">go</span></a></span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="function-composition">Function composition<a class="headerlink" href="#function-composition" title="Permanent link">&para;</a></h4>
<p>Let's try a different exercise. Define a function <code>compose</code> that composes two
functions <code>f</code> and <code>g</code>. It should take three arguments <code>f</code>, <code>g</code>, <code>x</code> and its only
clause's body should be <code>f (g x)</code>.</p>
<p>Can you make the <code>compose</code> function polymorphic and as general as possible?</p>
<details class="hint">
<summary>Hint</summary>
<p>The definition should start like this:</p>
<div class="highlight"><pre><span></span><code>    compose {A B C} ...
</code></pre></div>
</details>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1034"><span class="annot"><a href="#1034"><span class="annot"><a href="#1034"><span class="ju-var">Sol-Compose</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span id="1027"><span class="annot"><a href="#1027"><span class="annot"><a href="#1027"><span class="ju-function">compose</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#1028"><span class="ju-var">A</span></a></span> <span class="annot"><a href="#1029"><span class="ju-var">B</span></a></span> <span class="annot"><a href="#1030"><span class="ju-var">C</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1031"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1029"><span class="ju-var">B</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1030"><span class="ju-var">C</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1032"><span class="ju-var">g</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1028"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1029"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1033"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1028"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1030"><span class="ju-var">C</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1031"><span class="ju-var">f</span></a></span> <span class="annot"><a href="#1032"><span class="ju-var"><span class="ju-delimiter">(</span>g</span></a></span> <span class="annot"><a href="#1033"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Congratulations! your warm-up is complete!</p>
<h3 id="more-exercises">More exercises<a class="headerlink" href="#more-exercises" title="Permanent link">&para;</a></h3>
<h4 id="prime-numbers">Prime numbers<a class="headerlink" href="#prime-numbers" title="Permanent link">&para;</a></h4>
<p>Define a function <code>prime : Nat -&gt; Bool</code> which checks if a given natural number
is prime.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>A number is prime if it is greater than 1 and has no divisors
other than 1 and itself.</p>
</div>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1041"><span class="annot"><a href="#1041"><span class="annot"><a href="#1041"><span class="ju-var">Sol-Prime</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="1035"><span class="annot"><a href="#1035"><span class="annot"><a href="#1035"><span class="ju-function"><br/>  prime</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1036"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#34"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">let</span><br/>      <span id="1037"><span class="annot"><a href="#1037"><span class="annot"><a href="#1037"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#34"><span class="ju-inductive">Bool</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#35"><span class="ju-constructor">true</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#35"><span class="ju-constructor">true</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#1039"><span class="ju-var">n</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="1038"><span class="annot"><a href="#1038"><span class="annot"><a href="#1038"><span class="ju-var">k</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#41"><span class="ju-function">if</span></a></span> <span class="annot"><a href="#520"><span class="ju-function"><span class="ju-delimiter">(</span>mod</span></a></span> <span class="annot"><a href="#1036"><span class="ju-var">x</span></a></span> <span class="annot"><a href="#1038"><span class="ju-var">k</span></a></span> <span class="annot"><a href="#58"><span class="ju-function">==</span></a></span> <span class="ju-number">0</span><span class="ju-delimiter">)</span> <span class="annot"><a href="#36"><span class="ju-constructor">false</span></a></span> <span class="annot"><a href="#1037"><span class="ju-function"><span class="ju-delimiter">(</span>go</span></a></span> <span class="annot"><a href="#1038"><span class="ju-var">k</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/>    <span class="ju-keyword">in</span> <span class="ju-keyword">case</span> <span class="annot"><a href="#1036"><span class="ju-var">x</span></a></span> <span class="ju-keyword">of</span> <span class="ju-delimiter">{</span><br/>         <span class="ju-keyword">|</span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#36"><span class="ju-constructor">false</span></a></span><br/>         <span class="ju-keyword">|</span> <span class="annot"><a href="#125"><span class="ju-constructor">suc</span></a></span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#36"><span class="ju-constructor">false</span></a></span><br/>         <span class="ju-keyword">|</span> <span class="annot"><a href="#125"><span class="ju-constructor">suc</span></a></span> <span id="1040"><span class="annot"><a href="#1040"><span class="annot"><a href="#1040"><span class="ju-var">k</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1037"><span class="ju-function">go</span></a></span> <span class="annot"><a href="#1040"><span class="ju-var">k</span></a></span><br/>       <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="half">Half<a class="headerlink" href="#half" title="Permanent link">&para;</a></h4>
<p>Does Juvix accept the following definition?</p>
<div class="highlight"><pre><span></span><code>half : Nat -&gt; Nat := if (n &lt; 2) 0 (half (sub n 2) + 1);
</code></pre></div>
<p>If not, how can you reformulate this definition so that it is accepted by Juvix?</p>
<details class="info">
<summary>Solution</summary>
<p>The definition doesn't pass the termination checker.
One way to reformulate it is as follows:</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1044"><span class="annot"><a href="#1044"><span class="annot"><a href="#1044"><span class="ju-var">Sol-Half</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="1042"><span class="annot"><a href="#1042"><span class="annot"><a href="#1042"><span class="ju-function"><br/>  half</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="1043"><span class="annot"><a href="#1043"><span class="annot"><a href="#1043"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1042"><span class="ju-function">half</span></a></span> <span class="annot"><a href="#1043"><span class="ju-var">n</span></a></span> <span class="annot"><a href="#517"><span class="ju-function">+</span></a></span> <span class="ju-number">1</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="suffixes">Suffixes<a class="headerlink" href="#suffixes" title="Permanent link">&para;</a></h4>
<p>A <em>suffix</em> of a list <code>l</code> is any list which can be obtained from <code>l</code> by removing
some initial elements. For example, the suffixes of <code>1 :: 2 :: 3 :: nil</code> are:</p>
<ul>
<li><code>1 :: 2 :: 3 :: nil</code>,</li>
<li><code>2 :: 3 :: nil</code>,</li>
<li><code>3 :: nil</code>, and</li>
<li><code>nil</code>.</li>
</ul>
<p>Define a function which computes the list of all suffixes of a given list,
arranged in descending order of their lengths.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1049"><span class="annot"><a href="#1049"><span class="annot"><a href="#1049"><span class="ju-var">Sol-Suffixes</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="1045"><span class="annot"><a href="#1045"><span class="annot"><a href="#1045"><span class="ju-function"><br/>  suffixes</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#1046"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1046"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#115"><span class="ju-inductive"><span class="ju-delimiter">(</span>List</span></a></span> <span class="annot"><a href="#1046"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#116"><span class="ju-constructor">nil</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#1048"><span class="ju-var">xs</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">(</span><span class="ju-keyword">_</span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span id="1047"><span class="annot"><a href="#1047"><span class="annot"><a href="#1047"><span class="ju-var">xs&#39;</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1048"><span class="ju-var">xs</span></a></span> <span class="annot"><a href="#117"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="#1045"><span class="ju-function">suffixes</span></a></span> <span class="annot"><a href="#1047"><span class="ju-var">xs&#39;</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="tree-map">Tree map<a class="headerlink" href="#tree-map" title="Permanent link">&para;</a></h4>
<p>Recall the <code>Tree</code> type from above.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1054"><span class="annot"><a href="#1054"><span class="annot"><a href="#1054"><span class="ju-var">Tree-Ex</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">type</span> <span id="1050"><span class="annot"><a href="#1050"><span class="annot"><a href="#1050"><span class="ju-inductive">Tree</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="1051"><span class="annot"><a href="#1051"><span class="annot"><a href="#1051"><span class="ju-constructor">leaf</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1050"><span class="ju-inductive">Tree</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="1052"><span class="annot"><a href="#1052"><span class="annot"><a href="#1052"><span class="ju-constructor">node</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1050"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1050"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1050"><span class="ju-inductive">Tree</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Analogously to the <code>map</code> function for lists, define a function</p>
<div class="highlight"><pre><span></span><code>tmap : (Nat -&gt; Nat) -&gt; Tree -&gt; Tree;
</code></pre></div>
<p>which applies a function to all natural numbers stored in a tree.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1065"><span class="annot"><a href="#1065"><span class="annot"><a href="#1065"><span class="ju-var">Sol-Tree</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">type</span> <span id="1055"><span class="annot"><a href="#1055"><span class="annot"><a href="#1055"><span class="ju-inductive">Tree</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="1056"><span class="annot"><a href="#1056"><span class="annot"><a href="#1056"><span class="ju-constructor">leaf</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1055"><span class="ju-inductive">Tree</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="1057"><span class="annot"><a href="#1057"><span class="annot"><a href="#1057"><span class="ju-constructor">node</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1055"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1055"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1055"><span class="ju-inductive">Tree</span></a></span><span class="ju-delimiter">;</span><br/>  <span id="1059"><span class="annot"><a href="#1059"><span class="annot"><a href="#1059"><span class="ju-function"><br/>  tmap</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1060"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1055"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1055"><span class="ju-inductive">Tree</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#1056"><span class="ju-constructor"><span class="ju-delimiter">(</span>leaf</span></a></span> <span id="1061"><span class="annot"><a href="#1061"><span class="annot"><a href="#1061"><span class="ju-var">x</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1056"><span class="ju-constructor">leaf</span></a></span> <span class="annot"><a href="#1060"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span> <span class="annot"><a href="#1061"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span><br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="#1057"><span class="ju-constructor"><span class="ju-delimiter">(</span>node</span></a></span> <span id="1062"><span class="annot"><a href="#1062"><span class="annot"><a href="#1062"><span class="ju-var">x</span></a></span></a></span></span> <span id="1063"><span class="annot"><a href="#1063"><span class="annot"><a href="#1063"><span class="ju-var">l</span></a></span></a></span></span> <span id="1064"><span class="annot"><a href="#1064"><span class="annot"><a href="#1064"><span class="ju-var">r</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1057"><span class="ju-constructor">node</span></a></span> <span class="annot"><a href="#1060"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span> <span class="annot"><a href="#1062"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#1059"><span class="ju-function"><span class="ju-delimiter">(</span>tmap</span></a></span> <span class="annot"><a href="#1060"><span class="ju-var">f</span></a></span> <span class="annot"><a href="#1063"><span class="ju-var">l</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#1059"><span class="ju-function"><span class="ju-delimiter">(</span>tmap</span></a></span> <span class="annot"><a href="#1060"><span class="ju-var">f</span></a></span> <span class="annot"><a href="#1064"><span class="ju-var">r</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="polymorphic-tree">Polymorphic tree<a class="headerlink" href="#polymorphic-tree" title="Permanent link">&para;</a></h4>
<p>Modify the <code>Tree</code> type from <a href="#exercise-5">Exercise 5</a> to be polymorphic in the
element type, and then repeat the previous exercise.</p>
<details class="info">
<summary>Solution</summary>
<p>Only the types need to be changed.</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1071"><span class="annot"><a href="#1071"><span class="annot"><a href="#1071"><span class="ju-var">Sol-Tree-Poly</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">type</span> <span id="1066"><span class="annot"><a href="#1066"><span class="annot"><a href="#1066"><span class="ju-inductive">Tree</span></a></span></a></span></span> <span id="1070"><span class="annot"><a href="#1070"><span class="annot"><a href="#1070"><span class="ju-var">A</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">|</span> <span id="1067"><span class="annot"><a href="#1067"><span class="annot"><a href="#1067"><span class="ju-constructor">leaf</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1070"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1066"><span class="ju-inductive">Tree</span></a></span> <span class="annot"><a href="#1070"><span class="ju-var">A</span></a></span><br/>    <span class="ju-keyword">|</span> <span id="1068"><span class="annot"><a href="#1068"><span class="annot"><a href="#1068"><span class="ju-constructor">node</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1070"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1066"><span class="ju-inductive">Tree</span></a></span> <span class="annot"><a href="#1070"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1066"><span class="ju-inductive">Tree</span></a></span> <span class="annot"><a href="#1070"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1066"><span class="ju-inductive">Tree</span></a></span> <span class="annot"><a href="#1070"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="factorial">Factorial<a class="headerlink" href="#factorial" title="Permanent link">&para;</a></h4>
<p>Write a tail recursive function which computes the factorial of a natural
number.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1077"><span class="annot"><a href="#1077"><span class="annot"><a href="#1077"><span class="ju-var">Sol-Factorial</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="1072"><span class="annot"><a href="#1072"><span class="annot"><a href="#1072"><span class="ju-function"><br/>  fact</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>    <span class="ju-keyword">let</span><br/>      <span id="1073"><span class="annot"><a href="#1073"><span class="annot"><a href="#1073"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1074"><span class="ju-var">acc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#123"><span class="ju-inductive">Nat</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#124"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1074"><span class="ju-var">acc</span></a></span><br/>        <span class="ju-keyword">|</span> <span class="annot"><a href="#1076"><span class="ju-var">n</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="#125"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="1075"><span class="annot"><a href="#1075"><span class="annot"><a href="#1075"><span class="ju-var">n&#39;</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1073"><span class="ju-function">go</span></a></span> <span class="annot"><a href="#1074"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span> <span class="annot"><a href="#518"><span class="ju-function">*</span></a></span> <span class="annot"><a href="#1076"><span class="ju-var">n</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#1075"><span class="ju-var">n&#39;</span></a></span><span class="ju-delimiter">;</span><br/>    <span class="ju-keyword">in</span> <span class="annot"><a href="#1073"><span class="ju-function">go</span></a></span> <span class="ju-number">1</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="list-function-compose">List function compose<a class="headerlink" href="#list-function-compose" title="Permanent link">&para;</a></h4>
<p>Define a function</p>
<div class="highlight"><pre><span></span><code>comp {A} : List (A -&gt; A) -&gt; A -&gt; A
</code></pre></div>
<p>which composes all functions in a list. For example,</p>
<div class="highlight"><pre><span></span><code>comp (suc :: (*) 2 :: \{x := sub x 1} :: nil)
</code></pre></div>
<p>should be a function which given <code>x</code> computes <code>2(x - 1) + 1</code>.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1083"><span class="annot"><a href="#1083"><span class="annot"><a href="#1083"><span class="ju-var">Sol-Comp</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#1"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Prelude</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/>  <span id="1078"><span class="annot"><a href="#1078"><span class="annot"><a href="#1078"><span class="ju-function"><br/>  comp</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#1079"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1080"><span class="ju-var">fs</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#115"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="#1079"><span class="ju-var"><span class="ju-delimiter">(</span>A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1079"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1079"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1079"><span class="ju-var">A</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#266"><span class="ju-function">for</span></a></span> <span id="1081"><span class="annot"><a href="#1081"><span class="annot"><a href="#1081"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#202"><span class="ju-function">id</span></a></span><span class="ju-delimiter">)</span> <span id="1082"><span class="annot"><a href="#1082"><span class="annot"><a href="#1082"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="#1080"><span class="ju-var">fs</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="#1081"><span class="ju-var"><span class="ju-delimiter">{</span>acc</span></a></span> <span class="annot"><a href="#200"><span class="ju-function"></span></a></span> <span class="annot"><a href="#1082"><span class="ju-var">f</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
<p>where <code></code> is a composition function from the standard library:</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">module</span> <span id="1091"><span class="annot"><a href="#1091"><span class="annot"><a href="#1091"><span class="ju-var">Comp-Syntax</span></a></span></a></span></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">import</span> <span class="annot"><a href="#2"><span class="ju-var">Stdlib<span class="ju-delimiter">.</span>Data<span class="ju-delimiter">.</span>Fixity</span></a></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/>  <span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="ju-var"></span> <span class="ju-var">composition</span><span class="ju-delimiter">;</span><br/>  <span id="1084"><span class="annot"><a href="#1084"><span class="annot"><a href="#1084"><span class="ju-function"></span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="#1085"><span class="ju-var">A</span></a></span> <span class="annot"><a href="#1086"><span class="ju-var">B</span></a></span> <span class="annot"><a href="#1087"><span class="ju-var">C</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1088"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1086"><span class="ju-var">B</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1087"><span class="ju-var">C</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1089"><span class="ju-var">g</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1085"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="#1086"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="#1090"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1085"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="#1087"><span class="ju-var">C</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="#1088"><span class="ju-var">f</span></a></span> <span class="annot"><a href="#1089"><span class="ju-var"><span class="ju-delimiter">(</span>g</span></a></span> <span class="annot"><a href="#1090"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span><br/><span class="ju-keyword">end</span><span class="ju-delimiter">;</span></pre></code></pre></p>
<p>The <code></code> can be typed in Emacs or VSCode with <code>\o</code>.</p>
</details>

<!-- Source file information -->

  






  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-11-27T13:41:27+01:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-11-27</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-11-24T22:12:50+01:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-11-24</span>
  </span>

    
    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/agureev" class="md-author" title="@agureev" target="_blank" rel="noopener">
          
          <img src="../../assets/external/avatars.githubusercontent.com/u/67437331.fe356448.jpg" alt="agureev">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>



<!-- Was this page helpful? -->

  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5 3 7M16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! Help us improve this page by opening an issue on GitHub.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


<!-- Comment system -->

  <h2 id="__comments">Comments</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js" data-repo="anoma/juvix-docs" data-repo-id="R_kgDOJXy1bw" data-category="General" data-category-id="DIC_kwDOJXy1b84CV1X1" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async=>
</script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../blog/archive/2022/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 2022">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                2022
              </div>
            </div>
          </a>
        
        
          
          <a href="../vscode/" class="md-footer__link md-footer__link--next" aria-label="Next: Juvix VSCode extension">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Juvix VSCode extension
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Made with  by the Juvix team - Copyright  Heliax AG
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/anoma/juvix" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://discord.gg/jwzaMZ2Sct" target="_blank" rel="noopener" title="Juvix Discord" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/juvixlang" target="_blank" rel="noopener" title="Juvix Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.footer", "navigation.indexes", "navigation.path", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.top", "search.highlight", "search.suggest", "search.share", "toc.follow"], "search": "../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.2b189340.min.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
        <script src="../../assets/external/polyfill.io/v3/polyfill.min.7596a0b8.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../assets/js/highlight.js"></script>
      
        <script src="../../assets/js/extra.js"></script>
      
    
  </body>
</html>