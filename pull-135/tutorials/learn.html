
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The official documentation for Juvix">
      
      
        <meta name="author" content="The Juvix Team">
      
      
        <link rel="canonical" href="https://docs.juvix.org/pull-135/tutorials/learn.juvix.html">
      
      
        <link rel="prev" href="essential.html">
      
      
        <link rel="next" href="vscode.html">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../feed_rss_updated.xml">
      
      <link rel="icon" href="../assets/images/favicon/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Functional programming with Juvix - Juvix Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Flex:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto Flex";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/timeago.css">
    
      <link rel="stylesheet" href="../assets/css/extra.css">
    
      <link rel="stylesheet" href="../assets/css/juvix-highlighting.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9R2Q766R16"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9R2Q766R16",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9R2Q766R16",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Functional programming with Juvix - Juvix Docs" >
      
        <meta  property="og:description"  content="The official documentation for Juvix" >
      
        <meta  property="og:image"  content="https://docs.juvix.org/pull-135/assets/images/social/tutorials/learn.juvix.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://docs.juvix.org/pull-135/tutorials/learn.juvix.html" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Functional programming with Juvix - Juvix Docs" >
      
        <meta  name="twitter:description"  content="The official documentation for Juvix" >
      
        <meta  name="twitter:image"  content="https://docs.juvix.org/pull-135/assets/images/social/tutorials/learn.juvix.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="juvix-light" data-md-color-primary="deep-orange" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#functional-programming-with-juvix" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://docs.juvix.org" title="Juvix Docs" class="md-header__button md-logo" aria-label="Juvix Docs" data-md-component="logo">
      
  <img src="../assets/logo-juvix.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Juvix Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Functional programming with Juvix
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="juvix-light" data-md-color-primary="deep-orange" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="juvix-dark" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/anoma/juvix" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    anoma/juvix
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../README.html" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../howto/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 17H5V7h11l3.55 5m-1.92-6.16C17.27 5.33 16.67 5 16 5H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h11c.67 0 1.27-.34 1.63-.85L22 12z"/></svg>
    
  
  How-to guides

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 17H5V7h11l3.55 5m-1.92-6.16C17.27 5.33 16.67 5 16 5H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h11c.67 0 1.27-.34 1.63-.85L22 12z"/></svg>
    
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../reference/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 17H5V7h11l3.55 5m-1.92-6.16C17.27 5.33 16.67 5 16 5H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h11c.67 0 1.27-.34 1.63-.85L22 12z"/></svg>
    
  
  Reference

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://anoma.github.io/juvix-stdlib/index.html" class="md-tabs__link">
        
  
    
  
  Standard library

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../juvix-packages.html" class="md-tabs__link">
        
  
    
  
  Packages and Projects

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../blog/index.html" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../talks.html" class="md-tabs__link">
          
  
    
  
  Talks

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://docs.juvix.org" title="Juvix Docs" class="md-nav__button md-logo" aria-label="Juvix Docs" data-md-component="logo">
      
  <img src="../assets/logo-juvix.svg" alt="logo">

    </a>
    Juvix Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/anoma/juvix" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    anoma/juvix
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../README.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../howto/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    How-to guides
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 17H5V7h11l3.55 5m-1.92-6.16C17.27 5.33 16.67 5 16 5H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h11c.67 0 1.27-.34 1.63-.85L22 12z"/></svg>
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="essential.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 23.3-.6-.5c-2-1.9-3.4-3.1-3.4-4.6 0-1.2 1-2.2 2.2-2.2.7 0 1.4.3 1.8.8.4-.5 1.1-.8 1.8-.8 1.2 0 2.2.9 2.2 2.2 0 1.5-1.4 2.7-3.4 4.6zM3 7V5h2V4a2 2 0 0 1 2-2h6v7l2.5-1.5L18 9V2h1c1.05 0 2 .95 2 2v9.34A6.005 6.005 0 0 0 13.8 22H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm2-2v2h2V5zm0 14h2v-2H5zm0-6h2v-2H5z"/></svg>
  
  <span class="md-ellipsis">
    Essential Juvix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m6 20 4.16-12.09L9.34 6H8V4h2c.42 0 .78.26.93.63L16.66 18H18v2h-2c-.43 0-.79-.27-.93-.64l-3.74-8.71L8.12 20z"/></svg>
  
  <span class="md-ellipsis">
    Functional programming with Juvix
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="learn.html" class="md-nav__link md-nav__link--active">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m6 20 4.16-12.09L9.34 6H8V4h2c.42 0 .78.26.93.63L16.66 18H18v2h-2c-.43 0-.79-.27-.93-.64l-3.74-8.71L8.12 20z"/></svg>
  
  <span class="md-ellipsis">
    Functional programming with Juvix
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-types-and-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Data types and functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data types and functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#evaluation-order" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation order
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      Pattern matching
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparisons-and-conditionals" class="md-nav__link">
    <span class="md-ellipsis">
      Comparisons and conditionals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Local definitions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recursion" class="md-nav__link">
    <span class="md-ellipsis">
      Recursion
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#partial-application-and-higher-order-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Partial application and higher-order functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#polymorphism" class="md-nav__link">
    <span class="md-ellipsis">
      Polymorphism
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tail-recursion" class="md-nav__link">
    <span class="md-ellipsis">
      Tail recursion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tail recursion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iteration-over-data-structures" class="md-nav__link">
    <span class="md-ellipsis">
      Iteration over data structures
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#totality-checking" class="md-nav__link">
    <span class="md-ellipsis">
      Totality checking
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercises" class="md-nav__link">
    <span class="md-ellipsis">
      Exercises
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#warm-up-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      Warm-up exercises
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Warm-up exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boolean-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Boolean operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-maybe-type" class="md-nav__link">
    <span class="md-ellipsis">
      The Maybe type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      List exercises
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-composition" class="md-nav__link">
    <span class="md-ellipsis">
      Function composition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      More exercises
    </span>
  </a>
  
    <nav class="md-nav" aria-label="More exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prime-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Prime numbers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#half" class="md-nav__link">
    <span class="md-ellipsis">
      Half
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tree-map" class="md-nav__link">
    <span class="md-ellipsis">
      Tree map
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#polymorphic-tree" class="md-nav__link">
    <span class="md-ellipsis">
      Polymorphic tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suffixes" class="md-nav__link">
    <span class="md-ellipsis">
      Suffixes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#factorial" class="md-nav__link">
    <span class="md-ellipsis">
      Factorial
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-function-compose" class="md-nav__link">
    <span class="md-ellipsis">
      List function compose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="vscode.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 16.47V7.39l-6 4.54M2.22 9.19a.86.86 0 0 1-.02-1.15l1.2-1.11c.2-.18.69-.26 1.05 0l3.42 2.61 7.93-7.25c.32-.32.87-.45 1.5-.12l4 1.91c.36.21.7.54.7 1.15v13.5c0 .4-.29.83-.6 1l-4.4 2.1c-.32.13-.92.01-1.13-.2l-8.02-7.3-3.4 2.6c-.38.26-.85.19-1.05 0l-1.2-1.1c-.32-.33-.28-.87.05-1.2l3-2.7"/></svg>
  
  <span class="md-ellipsis">
    Juvix VSCode extension
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="emacs.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24M12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339 23.221 18.253 23.221 12 18.187.661 12 .661M8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552 0 0 1.764-.377 2.707-.725.987-.364 1.524-.673 1.766-1.11-.011-.09.074-.408-.381-.599-1.164-.488-2.514-.4-5.185-.457-2.962-.102-3.948-.598-4.472-.997-.503-.405-.25-1.526 1.907-2.513 1.086-.526 5.345-1.496 5.345-1.496-1.434-.709-4.109-1.955-4.659-2.224-.482-.236-1.254-.591-1.421-1.021-.19-.413.448-.768.804-.87 1.147-.331 2.766-.536 4.24-.56.741-.012.861-.059.861-.059 1.022-.17 1.695-.869 1.414-1.976-.252-1.13-1.579-1.795-2.84-1.565-1.188.217-4.05 1.048-4.05 1.048 3.539-.031 4.131.028 4.395.398.156.218-.071.518-1.015.672-1.027.168-3.163.37-3.163.37-2.049.122-3.492.13-3.925 1.046-.283.599.302 1.129.558 1.46 1.082 1.204 2.646 1.853 3.652 2.331.379.18 1.49.52 1.49.52-3.265-.18-5.619.823-7.001 1.977-1.562 1.445-.871 3.168 2.33 4.228 1.891.626 2.828.921 5.648.667 1.661-.09 1.923-.036 1.939.1.023.192-1.845.669-2.355.816-1.298.374-4.699 1.129-4.716 1.133"/></svg>
  
  <span class="md-ellipsis">
    Juvix Emacs mode
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../reference/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Reference
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://anoma.github.io/juvix-stdlib/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standard library
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../juvix-packages.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Packages and Projects
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../blog/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../talks.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Talks
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-types-and-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Data types and functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data types and functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#evaluation-order" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluation order
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      Pattern matching
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparisons-and-conditionals" class="md-nav__link">
    <span class="md-ellipsis">
      Comparisons and conditionals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Local definitions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recursion" class="md-nav__link">
    <span class="md-ellipsis">
      Recursion
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#partial-application-and-higher-order-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Partial application and higher-order functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#polymorphism" class="md-nav__link">
    <span class="md-ellipsis">
      Polymorphism
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tail-recursion" class="md-nav__link">
    <span class="md-ellipsis">
      Tail recursion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tail recursion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iteration-over-data-structures" class="md-nav__link">
    <span class="md-ellipsis">
      Iteration over data structures
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#totality-checking" class="md-nav__link">
    <span class="md-ellipsis">
      Totality checking
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercises" class="md-nav__link">
    <span class="md-ellipsis">
      Exercises
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#warm-up-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      Warm-up exercises
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Warm-up exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boolean-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Boolean operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-maybe-type" class="md-nav__link">
    <span class="md-ellipsis">
      The Maybe type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      List exercises
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-composition" class="md-nav__link">
    <span class="md-ellipsis">
      Function composition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      More exercises
    </span>
  </a>
  
    <nav class="md-nav" aria-label="More exercises">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prime-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Prime numbers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#half" class="md-nav__link">
    <span class="md-ellipsis">
      Half
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tree-map" class="md-nav__link">
    <span class="md-ellipsis">
      Tree map
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#polymorphic-tree" class="md-nav__link">
    <span class="md-ellipsis">
      Polymorphic tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suffixes" class="md-nav__link">
    <span class="md-ellipsis">
      Suffixes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#factorial" class="md-nav__link">
    <span class="md-ellipsis">
      Factorial
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-function-compose" class="md-nav__link">
    <span class="md-ellipsis">
      List function compose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                



                  <!-- Tags -->

  
<nav class="md-tags" >
  
    
    
    
      <span class="md-tag">tutorial</span>
    
  
    
    
    
      <span class="md-tag">intermediate</span>
    
  
    
    
    
      <span class="md-tag">functional-programming</span>
    
  
</nav>


<!-- Actions -->


  
    <a href="https://github.com/anoma/juvix-docs/edit/main/docs/tutorials/learn.juvix.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-1.9l10-10V8l-6-6zm7 1.5L18.5 9H13zm7.1 9.5c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-2 1.8L12 20.9V23h2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/anoma/juvix-docs/raw/main/docs/tutorials/learn.juvix.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5m-7.86-1.75L8.85 19l.29-.74C10.43 15.06 13.5 13 17 13c1.05 0 2.06.21 3 .56V8l-6-6H6c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4.5c-.55-.66-1-1.42-1.36-2.25M13 3.5 18.5 9H13z"/></svg>
    </a>
  



<!--
  Hack: check whether the content contains a h1 headline. If it doesn't, the
  page title (or respectively site name) is used as the main headline.
-->


<!-- Page content -->
<h1 id="functional-programming-with-juvix">Functional programming with Juvix<a class="headerlink" href="#functional-programming-with-juvix" title="Permanent link">&para;</a></h1>
<p><img align="left" alt="tara-teaching" src="../assets/images/tara-teaching.svg" width="280" /></p>
<p>Welcome to the Juvix functional programming tutorial! This thorough
guide provides a structured introduction to Juvix language features
and functional programming concepts. By the end of this tutorial,
you'll have a strong foundation in functional programming with
Juvix.</p>
<p>Before reading this tutorial, it is recommended to work through the <a href="./essential.html">Essential Juvix</a> tutorial which introduces basic Juvix freatures. Here we focus on explaining the Juvix language more thoroughly and on employing common functional programming techniques.</p>
<h2 id="data-types-and-functions">Data types and functions<a class="headerlink" href="#data-types-and-functions" title="Permanent link">&para;</a></h2>
<p>Common types like <code>Nat</code>, <code>Int</code> and <code>Bool</code> are defined in the standard library. These built-in types are treated specially by the compiler, but they still have ordinary definitions like any other type.</p>
<p>The type <code>Bool</code> has two constructors <code>true</code> and <code>false</code>.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:1"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:2"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span></a></span></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:3"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:3" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:3" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span></a></span></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The constructors of a data type can be used to build elements of the type. They
can also appear as patterns in function definitions. For example, the <code>not</code>
function is defined in the standard library by:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:6"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:6" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:6" class="ju-code-link ju-function"><span class="ju-function">not</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:3" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:3" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The type of the definition is specified after the colon. In this case, <code>not</code> is
a function from <code>Bool</code> to <code>Bool</code>. The type is followed by two <em>function clauses</em>
which specify the function result depending on the shape of the arguments. When
a function call is evaluated, the first clause that matches the arguments is
used.</p>
<p>In contrast to languages like Python, Java or C/C++, Juvix doesn't require
parentheses for function calls. All arguments are just listed after the
function. The general pattern for function application is: <code>func arg1 arg2 arg3 ...</code></p>
<p>Initial arguments that are matched against variables or wildcards in all clauses
can be moved to the left of the colon. For example,</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:8"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:8" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:8" class="ju-code-link ju-function"><span class="ju-function">or</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:9" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="ju-keyword">_</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:9" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>is equivalent to</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:11"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:11" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:11" class="ju-code-link ju-function"><span class="ju-function">or</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="ju-keyword">_</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:12"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:12" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:12" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span class="ju-keyword">_</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:12" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>
<p>If there is only one clause and all arguments are to the left of the colon, the
pipe <code>|</code> should be omitted:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:14"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:14" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:14" class="ju-code-link ju-function"><span class="ju-function">id</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:15" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:15" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>A more complex example of a data type is the <code>Nat</code> type from the standard
library:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:17"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:18"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:18" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:18" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:19"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:19" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:19" class="ju-code-link ju-constructor"><span class="ju-constructor">suc</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The constructor <code>zero</code> represents <code>0</code> and <code>suc</code> represents the successor
function  <code>suc n</code> is the successor of <code>n</code>, i.e., <code>n+1</code>. For example, <code>suc zero</code>
represents <code>1</code>. The number literals <code>0</code>, <code>1</code>, <code>2</code>, etc., are just shorthands for
appropriate expressions built using <code>suc</code> and <code>zero</code>.</p>
<p>The constructors of a data type specify how the elements of the type can be
constructed. For instance, the above definition specifies that an element of
<code>Nat</code> is either:</p>
<ul>
<li><code>zero</code>, or</li>
<li><code>suc n</code> where <code>n</code> is an element of <code>Nat</code>, i.e., it is constructed by applying
  <code>suc</code> to appropriate arguments (in this case the argument of <code>suc</code> has type
  <code>Nat</code>).</li>
</ul>
<p>Any element of <code>Nat</code> can be built with the constructors in this way  there are
no other elements. Mathematically, this is an inductive definition, which is why
the data type is called <em>inductive</em>.</p>
<p>Constructors can either by specified by listing their types after colons like in
the above definition of <code>Nat</code>, or with a shorter <em>ADT syntax</em> like in the
definition of <code>Bool</code>. The ADT syntax is similar to data type definition syntax
in functional languages like Haskell or OCaml: one lists the types of
constructor arguments separated by spaces. In this syntax, the <code>Nat</code> type could
be defined by</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:22"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:22" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:22" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:23"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:23" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:23" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span></a></span></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:24"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:24" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:24" class="ju-code-link ju-constructor"><span class="ju-constructor">suc</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:22" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>If implemented directly, the above unary representation of natural numbers would
be extremely inefficient. The Juvix compiler uses a binary number representation
under the hood and implements arithmetic operations using corresponding machine
instructions, so the performance of natural number arithmetic is similar to
other programming languages. The <code>Nat</code> type is a high-level presentation of
natural numbers as seen by the user who does not need to worry about low-level
arithmetic implementation details.</p>
<p>One can use <code>zero</code> and <code>suc</code> in pattern matching, like any other constructors:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="ju-var">+</span> <span class="ju-var">additive</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:27"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:27" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:27" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:18" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span id="tutorials.learn:28"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:28" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:28" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:28" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:19" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="tutorials.learn:29"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:29" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:29" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="tutorials.learn:30"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:30" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:30" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:19" class="ju-code-link ju-constructor"><span class="ju-constructor">suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:29" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:27" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:30" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The <code>syntax operator + additive</code> declares <code>+</code> to be an operator with the
<code>additive</code> fixity. The <code>+</code> is an ordinary function, except that function
application for <code>+</code> is written in infix notation. The definitions of the clauses
of <code>+</code> still need the prefix notation on the left-hand sides. Note that to use
this definition in the code one needs to import and open <code>Stdlib.Data.Fixity</code>.</p>
<p>The <code>a</code> and <code>b</code> in the patterns on the left-hand sides of the clauses are
<em>variables</em> which match arbitrary values of the corresponding type. They can be
used on the right-hand side to refer to the values matched. For example, when
evaluating</p>
<div class="highlight"><pre><span></span><code>(suc (suc zero)) + zero
</code></pre></div>
<p>the second clause of <code>+</code> matches, assigning <code>suc zero</code> to <code>a</code> and <code>zero</code> to <code>b</code>.
Then the right-hand side of the clause is evaluated with <code>a</code> and <code>b</code> substituted
by these values:</p>
<div class="highlight"><pre><span></span><code>suc (suc zero + zero)
</code></pre></div>
<p>Again, the second clause matches, now with both <code>a</code> and <code>b</code> being <code>zero</code>. After
replacing with the right-hand side, we obtain:</p>
<div class="highlight"><pre><span></span><code>suc (suc (zero + zero))
</code></pre></div>
<p>Now the first clause matches and finally we obtain the result</p>
<div class="highlight"><pre><span></span><code>suc (suc zero)
</code></pre></div>
<p>which is just <code>2</code>.</p>
<p>The function <code>+</code> is defined like above in the standard library, but the Juvix
compiler treats it specially and generates efficient code using appropriate CPU
instructions.</p>
<h3 id="evaluation-order">Evaluation order<a class="headerlink" href="#evaluation-order" title="Permanent link">&para;</a></h3>
<p>By default, evaluation in Juvix is <em>eager</em> (or <em>strict</em>), meaning that
the arguments to a function are fully evaluated before applying the
function. Only logical operators <code>||</code> and <code>&amp;&amp;</code> are treated specially
and evaluated lazily. These special functions cannot be partially
applied (see <a href="learn.html#partial-application-and-higher-order-functions">Partial application and higher-order
functions</a>
below).</p>
<h2 id="pattern-matching">Pattern matching<a class="headerlink" href="#pattern-matching" title="Permanent link">&para;</a></h2>
<p>The patterns in function clauses do not have to match on a single constructor 
they may be arbitrarily deep. For example, here is an (inefficient)
implementation of a function which checks whether a natural number is even:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:32"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:32" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:32" class="ju-code-link ju-function"><span class="ju-function">isEven</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:18" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:19" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:18" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:3" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:19" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:19" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="tutorials.learn:33"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:33" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:33" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:32" class="ju-code-link ju-function"><span class="ju-function">isEven</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:33" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>This definition states that a natural number <code>n</code> is even if either <code>n</code> is <code>zero</code>
or, recursively, <code>n-2</code> is even.</p>
<p>If a subpattern is to be ignored, then one can use a wildcard <code>_</code> instead of
naming the subpattern.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:35"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:35" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:35" class="ju-code-link ju-function"><span class="ju-function">isPositive</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:18" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:3" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:19" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="ju-keyword">_</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The above function could also be written as:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:37"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:37" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:37" class="ju-code-link ju-function"><span class="ju-function">isPositive</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:18" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:3" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="ju-keyword">_</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>It is not necessary to define a separate function to perform pattern matching.
One can use the <code>case</code> syntax to pattern match an expression directly.</p>
<div class="highlight"><pre><span></span><code>Stdlib.Prelude&gt; case (1, 2) of (suc _, zero) := 0 | (suc _, suc x) := x | _ := 19
1
</code></pre></div>
<p>It is possible to name subpatterns with <code>@</code>.</p>
<div class="highlight"><pre><span></span><code>Stdlib.Prelude&gt; case 3 of suc n@(suc _) := n | _ := 0
2
</code></pre></div>
<h2 id="comparisons-and-conditionals">Comparisons and conditionals<a class="headerlink" href="#comparisons-and-conditionals" title="Permanent link">&para;</a></h2>
<p>The standard library includes all the expected comparison operators:
<code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>==</code>, <code>/=</code>. Similarly to arithmetic operations,
the comparisons are in fact defined generically for different
datatypes using traits, which are out of the scope of this
tutorial. For basic usage, one can assume that the comparisons operate
on natural numbers.</p>
<p>For example, one may define the function <code>max3</code> using <code>&gt;</code> and <code>max</code>
from the standard library:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:39"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:39" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:39" class="ju-code-link ju-function"><span class="ju-function">max3</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:40" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:41" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:42" class="ju-code-link ju-var"><span class="ju-var">z</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">if</span> <br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:40" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Ord.html#Stdlib.Trait.Ord:12" class="ju-code-link ju-function"><span class="ju-function">&gt;</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:41" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Ord.html#Stdlib.Trait.Ord:15" class="ju-code-link ju-function"><span class="ju-function">max</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:40" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:42" class="ju-code-link ju-var"><span class="ju-var">z</span></a></span><br/>    <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Ord.html#Stdlib.Trait.Ord:15" class="ju-code-link ju-function"><span class="ju-function">max</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:41" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:42" class="ju-code-link ju-var"><span class="ju-var">z</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<h2 id="local-definitions">Local definitions<a class="headerlink" href="#local-definitions" title="Permanent link">&para;</a></h2>
<p>Juvix supports local definitions with let-expressions.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:44"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:44" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:44" class="ju-code-link ju-function"><span class="ju-function">f</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:45" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">let</span><br/>    <span id="tutorials.learn:46"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:46" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:46" class="ju-code-link ju-function"><span class="ju-function">x</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:45" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="ju-number">5</span><span class="ju-delimiter">;</span><br/>    <span id="tutorials.learn:47"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:47" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:47" class="ju-code-link ju-function"><span class="ju-function">y</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:45" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="ju-number">7</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:46" class="ju-code-link ju-function"><span class="ju-function">x</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:46" class="ju-code-link ju-function"><span class="ju-function">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:47" class="ju-code-link ju-function"><span class="ju-function">y</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The variables <code>x</code> and <code>y</code> are not visible outside <code>f</code>.</p>
<p>One can also use multi-clause definitions in <code>let</code>-expressions, with the same
syntax as definitions inside a module. For example:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:49"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:49" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:49" class="ju-code-link ju-function"><span class="ju-function">isEven</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">let</span><br/>    <span id="tutorials.learn:50"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:50" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:50" class="ju-code-link ju-function"><span class="ju-function">isEven&#39;</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:18" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:2" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:19" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="tutorials.learn:52"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:52" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:52" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:51" class="ju-code-link ju-function"><span class="ju-function">isOdd&#39;</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:52" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span><br/>    <span id="tutorials.learn:51"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:51" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:51" class="ju-code-link ju-function"><span class="ju-function">isOdd&#39;</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:18" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:3" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:19" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="tutorials.learn:53"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:53" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:53" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:50" class="ju-code-link ju-function"><span class="ju-function">isEven&#39;</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:53" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:50" class="ju-code-link ju-function"><span class="ju-function">isEven&#39;</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The functions <code>isEven'</code> and <code>isOdd'</code> are not visible outside <code>isEven</code>.</p>
<h2 id="recursion">Recursion<a class="headerlink" href="#recursion" title="Permanent link">&para;</a></h2>
<p>Juvix is a purely functional language, which means that functions have no side
effects and all variables are immutable. An advantage of functional programming
is that all expressions are <em>referentially transparent</em>  any expression can be
replaced by its value without changing the meaning of the program. This makes it
easier to reason about programs, in particular to prove their correctness. No
errors involving implicit state are possible, because the state is always
explicit.</p>
<p>In a functional language, there are no imperative loops. Repetition is expressed
using recursion. In many cases, the recursive definition of a function follows
the inductive definition of a data structure the function analyses. For example,
consider the following inductive type of lists of natural numbers:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:55"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:55" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:55" class="ju-code-link ju-inductive"><span class="ju-inductive">NList</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:56"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:56" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:56" class="ju-code-link ju-constructor"><span class="ju-constructor">nnil</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:55" class="ju-code-link ju-inductive"><span class="ju-inductive">NList</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:57"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:57" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:57" class="ju-code-link ju-constructor"><span class="ju-constructor">ncons</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:55" class="ju-code-link ju-inductive"><span class="ju-inductive">NList</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:55" class="ju-code-link ju-inductive"><span class="ju-inductive">NList</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>An element of <code>NList</code> is either <code>nnil</code> (empty) or <code>ncons x xs</code> where <code>x : Nat</code>
and <code>xs : NList</code> (a list with head <code>x</code> and tail <code>xs</code>).</p>
<p>A function computing the length of a list may be defined by:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:60"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:60" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:60" class="ju-code-link ju-function"><span class="ju-function">nlength</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:55" class="ju-code-link ju-inductive"><span class="ju-inductive">NList</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:56" class="ju-code-link ju-constructor"><span class="ju-constructor">nnil</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:57" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>ncons</span></a></span> <span class="ju-keyword">_</span> <span id="tutorials.learn:61"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:61" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:61" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:60" class="ju-code-link ju-function"><span class="ju-function">nlength</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:61" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="ju-number">1</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The definition follows the inductive definition of <code>NList</code>. There are two
function clauses for the two constructors. The case for <code>nnil</code> is easy  the
constructor has no arguments and the length of the empty list is <code>0</code>. For a
constructor with some arguments, one typically needs to express the result of
the function in terms of the constructor arguments, usually calling the function
recursively on the constructor's inductive arguments (for <code>ncons</code> this is the
second argument). In the case of <code>ncons _ xs</code>, we recursively call <code>nlength</code> on
<code>xs</code> and add <code>1</code> to the result.</p>
<p>Let's consider another example  a function which returns the maximum of the
numbers in a list or 0 for the empty list.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:63"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:63" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:63" class="ju-code-link ju-function"><span class="ju-function">nmaximum</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:55" class="ju-code-link ju-inductive"><span class="ju-inductive">NList</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:56" class="ju-code-link ju-constructor"><span class="ju-constructor">nnil</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:57" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>ncons</span></a></span> <span id="tutorials.learn:64"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:64" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:64" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="tutorials.learn:65"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:65" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:65" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Ord.html#Stdlib.Trait.Ord:15" class="ju-code-link ju-function"><span class="ju-function">max</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:64" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:63" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>nmaximum</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:65" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Again, there is a clause for each constructor. In the case for <code>ncons</code>, we
recursively call the function on the list tail and take the maximum of the
result and the list head.</p>
<p>For an example of a constructor with more than one inductive argument, consider
binary trees with natural numbers in nodes.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:67"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:67" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:67" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:68"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:68" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:68" class="ju-code-link ju-constructor"><span class="ju-constructor">leaf</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:67" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:69"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:69" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:69" class="ju-code-link ju-constructor"><span class="ju-constructor">node</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:17" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:67" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:67" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:67" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The constructor <code>node</code> has two inductive arguments (the second and the third)
which represent the left and the right subtree.</p>
<p>A function which produces the mirror image of a tree may be defined by:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:72"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:72" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:72" class="ju-code-link ju-function"><span class="ju-function">mirror</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:67" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:67" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:68" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>leaf</span></a></span> <span id="tutorials.learn:73"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:73" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:73" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:68" class="ju-code-link ju-constructor"><span class="ju-constructor">leaf</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:73" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:69" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>node</span></a></span> <span id="tutorials.learn:74"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:74" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:74" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="tutorials.learn:75"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:75" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:75" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span></a></span></span> <span id="tutorials.learn:76"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:76" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:76" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:69" class="ju-code-link ju-constructor"><span class="ju-constructor">node</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:74" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:72" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>mirror</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:76" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:72" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>mirror</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:75" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The definition of <code>mirror</code> follows the definition of <code>Tree</code>. There are two
recursive calls for the two inductive constructors of <code>node</code> (the subtrees).</p>
<h2 id="partial-application-and-higher-order-functions">Partial application and higher-order functions<a class="headerlink" href="#partial-application-and-higher-order-functions" title="Permanent link">&para;</a></h2>
<p>Strictly speaking, all Juvix functions have only one argument. Multi-argument
functions are really functions which return a function which takes the next
argument and returns a function taking another argument, and so on for all
arguments. The function type former <code>-&gt;</code> (the arrow) is right-associative.
Hence, the type, e.g., <code>Nat -&gt; Nat -&gt; Nat</code> when fully parenthesised becomes <code>Nat
-&gt; (Nat -&gt; Nat)</code>. It is the type of functions which given an argument of type
<code>Nat</code> return a function of type <code>Nat -&gt; Nat</code> which itself takes an argument of
type <code>Nat</code> and produces a result of type <code>Nat</code>. Function application is
left-associative. For example, <code>f a b</code> when fully parenthesised becomes <code>(f a)
b</code>. So it is an application to <code>b</code> of the function obtained by applying <code>f</code> to
<code>a</code>.</p>
<p>Since a multi-argument function is just a one-argument function returning a
function, it can be <em>partially applied</em> to a smaller number of arguments than
specified in its definition. The result is an appropriate function. For example,
<code>sub 10</code> is a function which subtracts its argument from <code>10</code>, and <code>(+) 1</code> is a
function which adds <code>1</code> to its argument. If the function has been declared as an
infix operator (like <code>+</code>), then for partial application one needs to enclose it
in parentheses.</p>
<p>A function which takes a function as an argument is a <em>higher-order function</em>.
An example is the <code>nmap</code> function which applies a given function to each element
in a list of natural numbers.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:78"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:78" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:78" class="ju-code-link ju-function"><span class="ju-function">nmap</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:79" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:55" class="ju-code-link ju-inductive"><span class="ju-inductive">NList</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:55" class="ju-code-link ju-inductive"><span class="ju-inductive">NList</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:56" class="ju-code-link ju-constructor"><span class="ju-constructor">nnil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:56" class="ju-code-link ju-constructor"><span class="ju-constructor">nnil</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:57" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>ncons</span></a></span> <span id="tutorials.learn:80"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:80" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:80" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="tutorials.learn:81"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:81" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:81" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:57" class="ju-code-link ju-constructor"><span class="ju-constructor">ncons</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:79" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:80" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:78" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>nmap</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:79" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:81" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The application</p>
<div class="highlight"><pre><span></span><code>nmap \{x := div x 2} lst
</code></pre></div>
<p>divides every element of <code>lst</code> by <code>2</code>, rounding down the result. The expression</p>
<div class="highlight"><pre><span></span><code>\{x := div x 2}
</code></pre></div>
<p>is an unnamed function, or a <em>lambda</em>, which divides its argument by <code>2</code>.</p>
<h2 id="polymorphism">Polymorphism<a class="headerlink" href="#polymorphism" title="Permanent link">&para;</a></h2>
<p>The type <code>NList</code> we have been working with above requires the list elements to
be natural numbers. It is possible to define lists <em>polymorphically</em>,
parameterising them by the element type. This is similar to generics in
languages like Java, C++ or Rust. Here is the polymorphic definition of lists
from the standard library:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="ju-var">::</span> <span class="ju-var">cons</span><span class="ju-delimiter">;</span><br/><br/><span class="ju-keyword">type</span> <span id="tutorials.learn:83"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span></a></span></span> <span id="tutorials.learn:86"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:86" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:86" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:84"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:84" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:84" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:86" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:85"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:85" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:85" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:86" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:86" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:86" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The constructor <code>::</code> is declared as a right-associative infix operator. The
definition has a parameter <code>A</code> which is the element type. Then <code>List Ty</code> is the
type of lists with elements of type <code>Ty</code>. For example, <code>List Nat</code> is the type of
lists of natural numbers, isomorphic to the type <code>NList</code> defined above.</p>
<p>Now one can define the <code>map</code> function polymorphically:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:89"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:89" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:89" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:90" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:91" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:92" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:90" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:91" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:90" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:91" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:84" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:84" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:93"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:93" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:93" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>h</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:85" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:94"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:94" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:94" class="ju-code-link ju-var"><span class="ju-var">hs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:92" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:93" class="ju-code-link ju-var"><span class="ju-var">h</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:85" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:89" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:92" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:94" class="ju-code-link ju-var"><span class="ju-var">hs</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>This function has two <em>implicit type arguments</em> <code>A</code> and <code>B</code>. These arguments are
normally omitted in function application  they are inferred automatically
during type checking. The curly braces indicate that the argument is implicit
and should be inferred.</p>
<p>In fact, the constructors <code>nil</code> and <code>::</code> also have an implicit argument: the
type of list elements. All type parameters of a data type definition become
implicit arguments of the constructors.</p>
<p>Usually, the implicit arguments in a function application can be inferred.
However, sometimes this is not possible and then the implicit arguments need to
be provided explicitly by enclosing them in braces:</p>
<div class="highlight"><pre><span></span><code>f {implArg1} .. {implArgK} arg1 .. argN
</code></pre></div>
<p>For example, <code>nil {Nat}</code> has type <code>List Nat</code> while <code>nil</code> by itself has type <code>{A : Type} -&gt; List A</code>.</p>
<h2 id="tail-recursion">Tail recursion<a class="headerlink" href="#tail-recursion" title="Permanent link">&para;</a></h2>
<p>Any recursive call whose result is further processed by the calling function
needs to create a new stack frame to save the calling function environment. This
means that each such call will use a constant amount of memory. For example, a
function <code>sum</code> implemented as follows will use an additional amount of memory
proportional to the length of the processed list:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:96"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:96" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:96" class="ju-code-link ju-function"><span class="ju-function">sum</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:97"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:97" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:97" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:98"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:98" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:98" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:97" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:96" class="ju-code-link ju-function"><span class="ju-function">sum</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:98" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>This is not acceptable if you care about performance. In an imperative language,
one would use a simple loop going over the list without any memory allocation.
In pseudocode:</p>
<div class="highlight"><pre><span></span><code><span class="k">var</span><span class="w"> </span><span class="nb">sum</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Nat</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>

<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">lst</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="k">nil</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="k">begin</span>
<span class="w">  </span><span class="nb">sum</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">sum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="n">lst</span><span class="o">;</span>
<span class="w">  </span><span class="n">lst</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">tail</span><span class="w"> </span><span class="n">lst</span><span class="o">;</span>
<span class="k">end</span><span class="o">;</span>

<span class="bp">result</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">sum</span><span class="o">;</span>
</code></pre></div>
<p>Fortunately, it is possible to rewrite this function to use <em>tail recursion</em>. A
recursive call is <em>tail recursive</em> if its result is also the result of the
calling function, i.e., the calling function returns immediately after it
without further processing. The Juvix compiler <em>guarantees</em> that all tail calls
will be eliminated, i.e., that they will be compiled to simple jumps without
extra memory allocation. In a tail recursive call, instead of creating a new
stack frame, the old one is reused.</p>
<p>The following implementation of <code>sum</code> uses tail recursion.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:100"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:100" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:100" class="ju-code-link ju-function"><span class="ju-function">sum</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:101" class="ju-code-link ju-var"><span class="ju-var">lst</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">let</span><br/>    <span id="tutorials.learn:102"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:102" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:102" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:103" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:103" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><br/>      <span class="ju-keyword">|</span> <span id="tutorials.learn:104"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:104" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:104" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:105"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:105" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:105" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:102" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:103" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:104" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:105" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:102" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="ju-number">0</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:101" class="ju-code-link ju-var"><span class="ju-var">lst</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The first argument of <code>go</code> is an <em>accumulator</em> which holds the sum computed so
far. It is analogous to the <code>sum</code> variable in the imperative loop above. The
initial value of the accumulator is 0. The function <code>go</code> uses only constant
additional memory overall. The code generated for it by the Juvix compiler is
equivalent to an imperative loop.</p>
<p>Most imperative loops may be translated into tail recursive functional programs
by converting the locally modified variables into accumulators and the loop
condition into pattern matching. For example, here is an imperative pseudocode
for computing the nth Fibonacci number in linear time. The variables <code>cur</code> and
<code>next</code> hold the last two computed Fibonacci numbers.</p>
<div class="highlight"><pre><span></span><code><span class="k">var</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Nat</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Nat</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>

<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="k">begin</span>
<span class="w">  </span><span class="n">tmp</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">next</span><span class="o">;</span>
<span class="w">  </span><span class="n">next</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">next</span><span class="o">;</span>
<span class="w">  </span><span class="n">cur</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">tmp</span><span class="o">;</span>
<span class="w">  </span><span class="n">n</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span>
<span class="k">end</span><span class="o">;</span>

<span class="bp">result</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">cur</span><span class="o">;</span>
</code></pre></div>
<p>An equivalent functional program is:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:107"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:107" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:107" class="ju-code-link ju-function"><span class="ju-function">fib</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">let</span><br/>    <span id="tutorials.learn:108"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:108" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:108" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:109" class="ju-code-link ju-var"><span class="ju-var">cur</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:110" class="ju-code-link ju-var"><span class="ju-var">next</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:109" class="ju-code-link ju-var"><span class="ju-var">cur</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="tutorials.learn:111"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:111" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:111" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:108" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:110" class="ju-code-link ju-var"><span class="ju-var">next</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:109" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>cur</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:110" class="ju-code-link ju-var"><span class="ju-var">next</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:111" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:108" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="ju-number">0</span> <span class="ju-number">1</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>A naive definition of the Fibonacci function runs in exponential time:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:113"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:113" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:113" class="ju-code-link ju-function"><span class="ju-function">fib</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="ju-number">1</span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="tutorials.learn:114"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:114" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:114" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:113" class="ju-code-link ju-function"><span class="ju-function">fib</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:114" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:113" class="ju-code-link ju-function"><span class="ju-function">fib</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:114" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Tail recursion is less useful when the function needs to allocate memory anyway.
For example, one could make the <code>map</code> function from the previous section tail
recursive, but the time and memory use would still be proportional to the length
of the input because of the need to allocate the result list. In fact, a tail
recursive <code>map</code> needs to allocate and discard an intermediate list which is
reversed in the end to preserve the original element order:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:116"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:116" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:116" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:117" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:118" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:119" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:117" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:118" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:117" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:118" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">let</span><br/>    <span id="tutorials.learn:120"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:120" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:120" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:121" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:118" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:117" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:118" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Data/List/Base.html#Stdlib.Data.List.Base:10" class="ju-code-link ju-function"><span class="ju-function">reverse</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:121" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><br/>      <span class="ju-keyword">|</span> <span id="tutorials.learn:122"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:122" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:122" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:123"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:123" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:123" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:120" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:119" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:122" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:121" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:123" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:120" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>So we have replaced stack allocation with heap allocation. This actually
decreases performance.</p>
<h3 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h3>
<ul>
<li>Use tail recursion to eliminate stack allocation.</li>
<li>Do not use tail recursion to replace stack allocation with heap allocation.</li>
</ul>
<h2 id="iteration-over-data-structures">Iteration over data structures<a class="headerlink" href="#iteration-over-data-structures" title="Permanent link">&para;</a></h2>
<p>A common use of recursion is to traverse a data structure in a specified order
accumulating some values. For example, the tail recursive <code>sum</code> function fits
this pattern.</p>
<p>Juvix provides special support for data structure traversals with the iterator
syntax. The standard library defines several list iterators, among them <code>for</code>
and <code>rfor</code>. We can implement the <code>sum</code> function using <code>for</code>:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:125"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:125" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:125" class="ju-code-link ju-function"><span class="ju-function">sum</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:126" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Foldable/Monomorphic.html#Stdlib.Trait.Foldable.Monomorphic:11" class="ju-code-link ju-function"><span class="ju-function">for</span></a></span> <span id="tutorials.learn:127"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:127" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:127" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><span class="ju-delimiter">)</span> <span id="tutorials.learn:128"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:128" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:128" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:126" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">{</span><br/>    <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:128" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:127" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><br/>  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The above <code>for</code> iteration starts with the accumulator <code>acc</code> equal to <code>0</code> and
goes through the list <code>l</code> from left to right (from beginning to end), at each
step updating the accumulator to <code>x + acc</code> where <code>x</code> is the current list element
and <code>acc</code> is the previous accumulator value. The final value of the iteration is
the final value of the accumulator. The <code>for</code> iterator is tail recursive, i.e.,
no stack memory is allocated and the whole iteration is compiled to a loop.</p>
<p>The <code>rfor</code> iterator is analogous to <code>for</code> except that it goes through the list
from right to left (from end to beginning) and is not tail recursive. For
example, one can implement <code>map</code> using <code>rfor</code>:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:130"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:130" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:130" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:131" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:132" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:133" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:131" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:132" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:134" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:131" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:132" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Foldable/Monomorphic.html#Stdlib.Trait.Foldable.Monomorphic:12" class="ju-code-link ju-function"><span class="ju-function">rfor</span></a></span> <span id="tutorials.learn:135"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:135" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:135" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">)</span> <span id="tutorials.learn:136"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:136" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:136" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:134" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">{</span><br/>    <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:133" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:136" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:135" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><br/>  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>The iterators are just ordinary higher-order Juvix functions which can be used
with the iterator syntax. In fact, the <code>map</code> function from the standard library
can also be used with the iterator syntax. The expression</p>
<div class="highlight"><pre><span></span><code>map (x in l) {body}
</code></pre></div>
<p>is equivalent to</p>
<div class="highlight"><pre><span></span><code>map \{x := body} l
</code></pre></div>
<p>Whenever possible, it is advised to use the standard library iterators instead
of manually writing recursive functions. When reasonable, <code>for</code> should be
preferred to <code>rfor</code>. The iterators provide a readable syntax and the compiler
might be able to optimize them better than manually written recursion.</p>
<h2 id="totality-checking">Totality checking<a class="headerlink" href="#totality-checking" title="Permanent link">&para;</a></h2>
<p>By default, the Juvix compiler requires all functions to be <em>total</em>. Totality
consists of:</p>
<ul>
<li><a href="../explanations/totality/termination.html">termination</a> and
  <a href="../explanations/totality/coverage.html">coverage</a> for function declarations,
  and</li>
<li><a href="../explanations/totality/positive.html">strict positivity</a> for user-defined
  data types.</li>
</ul>
<p>The termination check ensures that all functions are structurally recursive,
i.e., all recursive calls are on structurally smaller values  subpatterns of
the matched pattern.</p>
<p>However, we can still make Juvix accept a non-terminating function via the
<code>terminating</code> keyword, skipping the termination check.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">terminating</span><br/><span id="tutorials.learn:138"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:138" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:138" class="ju-code-link ju-function"><span class="ju-function">log2</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:139" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">if</span> <br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:139" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Ord.html#Stdlib.Trait.Ord:10" class="ju-code-link ju-function"><span class="ju-function">&lt;=</span></a></span> <span class="ju-number">1</span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>    <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor">suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:138" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>log2</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/DivMod.html#Stdlib.Trait.DivMod:6" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>div</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:139" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span> <span class="ju-number">2</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Let us look at other examples. The termination checker rejects the
following definition of the factorial function (when the <code>terminating</code>
keyword is removed):</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">terminating</span><br/><span id="tutorials.learn:141"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:141" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:141" class="ju-code-link ju-function"><span class="ju-function">fact</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:142" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">if</span> <br/>    <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:142" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Eq.html#Stdlib.Trait.Eq:9" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="ju-number">0</span> <span class="ju-keyword">:=</span> <span class="ju-number">1</span><br/>    <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:142" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:141" class="ju-code-link ju-function"><span class="ju-function">fact</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:7" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>sub</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:142" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="ju-number">1</span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre>

<p>To ensure termination, the argument to the recursive call must be a
proper subpattern of a pattern matched on in the clause. One can
reformulate this definition so that it is accepted by the termination
checker:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:144"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:144" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:144" class="ju-code-link ju-function"><span class="ju-function">fact</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">1</span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:146" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="tutorials.learn:145"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:145" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:145" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:146" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:144" class="ju-code-link ju-function"><span class="ju-function">fact</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:145" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Coverage checking ensures that there are no unhandled patterns in function
clauses or <code>case</code> expressions. For example, the following definition is rejected
because the case <code>suc zero</code> is not handled:</p>
<div class="highlight"><pre><span></span><code>  isEven : Nat -&gt; Bool
    | zero := true
    | (suc (suc n)) := isEven n;
</code></pre></div>
<p>Since coverage checking forces the user to specify the function for all input
values, it may be unclear how to implement functions which are typically
partial. For example, the <code>tail</code> function on lists is often left undefined for
the empty list. One solution is to return a default value. In the Juvix standard
library, <code>tail</code> is implemented as follows, returning the empty list when the
argument is empty.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:148"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:148" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:148" class="ju-code-link ju-function"><span class="ju-function">tail</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:149" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:149" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:149" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="ju-delimiter">(</span><span class="ju-keyword">_</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:85" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:150"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:150" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:150" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:150" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:84" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:84" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Another solution is to wrap the result in the <code>Maybe</code> type from the standard
library, which allows representing optional values. An element of <code>Maybe A</code> is
either <code>nothing</code> or <code>just x</code> with <code>x : A</code>.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:152"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:152" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:152" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span></a></span></span> <span id="tutorials.learn:155"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:155" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:155" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:153"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:153" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:153" class="ju-code-link ju-constructor"><span class="ju-constructor">nothing</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:152" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:155" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:154"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:154" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:154" class="ju-code-link ju-constructor"><span class="ju-constructor">just</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:155" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:152" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:155" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>For example, one could define the tail function as:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:158"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:158" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:158" class="ju-code-link ju-function"><span class="ju-function">tail</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:159" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:159" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:152" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:83" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:159" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span><br/>  <span class="ju-keyword">|</span> <span class="ju-delimiter">(</span><span class="ju-keyword">_</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:85" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:160"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:160" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:160" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:154" class="ju-code-link ju-constructor"><span class="ju-constructor">just</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:160" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:84" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:153" class="ju-code-link ju-constructor"><span class="ju-constructor">nothing</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Then the user needs to explicitly check if the result of the function contains a
value or not:</p>
<div class="highlight"><pre><span></span><code>case tail&#39; lst of
| just x := ...
| nothing := ...
</code></pre></div>
<h2 id="exercises">Exercises<a class="headerlink" href="#exercises" title="Permanent link">&para;</a></h2>
<p>You have now learnt essential functional programming techniques in
Juvix. To consolidate your understanding, try doing some of the
following exercises.</p>
<!-- Include solutions as details -->

<h3 id="warm-up-exercises">Warm-up exercises<a class="headerlink" href="#warm-up-exercises" title="Permanent link">&para;</a></h3>
<h4 id="boolean-operators">Boolean operators<a class="headerlink" href="#boolean-operators" title="Permanent link">&para;</a></h4>
<p>Let's start by defining some functions on booleans.</p>
<p>The type for booleans is defined in the standard library like this:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:162"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:162" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:162" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:163"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:163" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:163" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:162" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:164"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:164" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:164" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:162" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Remember that you can import this definition by adding <code>import Stdlib.Prelude
open</code> at the beginning of your module.</p>
<p>Now, define the logical function <code>not</code> by using pattern matching.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The type of your function should be:</p>
<div class="highlight"><pre><span></span><code>        not : Bool -&gt; Bool;
</code></pre></div>
</div>
<p>Now, define the logical functions <code>and</code>, <code>or</code> by using pattern matching as well.
Feel free to experiment and see what happens if your patterns are not
exhaustive, i.e., if not all the cases are covered.</p>
<p>Next, let's define the logical function <code>xor</code>, which should return <code>true</code> if and
only if exactly one of its arguments is <code>true</code>. This time, instead of using
pattern matching, use the previously defined logical functions.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Be wary of using the standard library here as it may cause name conflicts.</p>
</div>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:167"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:168"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:168" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:168" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:169"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:169" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:169" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:171"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:171" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:171" class="ju-code-link ju-function"><span class="ju-function">not</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:169" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:168" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:168" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:169" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:172"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:172" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:172" class="ju-code-link ju-function"><span class="ju-function">or</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:169" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span> <span id="tutorials.learn:175"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:175" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:175" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:175" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:168" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span> <span class="ju-keyword"><em></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:168" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:173"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:173" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:173" class="ju-code-link ju-function"><span class="ju-function">and</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:168" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span> <span id="tutorials.learn:176"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:176" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:176" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:176" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:169" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span> <span class="ju-keyword"></em></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:169" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:174"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:174" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:174" class="ju-code-link ju-function"><span class="ju-function">xor</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:177" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:178" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:167" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:173" class="ju-code-link ju-function"><span class="ju-function">and</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:171" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>not</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:173" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>and</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:177" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:178" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:172" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>or</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:177" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:178" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="the-maybe-type">The <code>Maybe</code> type<a class="headerlink" href="#the-maybe-type" title="Permanent link">&para;</a></h4>
<p>The <code>NMaybe</code> type encapsulates an optional natural number (the preceding <code>N</code>
stands for <code>Nat</code>). The <code>nnothing</code> constructor is used when the value is missing.
On the other hand, the <code>njust</code> constructor is used when the value is present.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:180"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:180" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:180" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:181"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:181" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:181" class="ju-code-link ju-constructor"><span class="ju-constructor">nnothing</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:180" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:182"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:182" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:182" class="ju-code-link ju-constructor"><span class="ju-constructor">njust</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword"></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:180" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Let's define a function <code>isJust : NMaybe -&gt; Bool</code> that returns <code>true</code> when the
value is present.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:185"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:185" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:185" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:186"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:186" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:186" class="ju-code-link ju-constructor"><span class="ju-constructor">nnothing</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:185" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:187"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:187" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:187" class="ju-code-link ju-constructor"><span class="ju-constructor">njust</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword"></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:185" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:189"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:189" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:189" class="ju-code-link ju-function"><span class="ju-function">isJust</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:185" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Bool.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:187" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>njust</span></a></span> <span class="ju-keyword">_</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Bool.html#Juvix.Builtin.V1.Bool:3" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:186" class="ju-code-link ju-constructor"><span class="ju-constructor">nnothing</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Bool.html#Juvix.Builtin.V1.Bool:2" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Now let's define a function <code>fromMaybe : Nat -&gt; NMaybe -&gt; Nat</code> that given a
<code>NMaybe</code>, returns its value if present and otherwise returns the first argument
as a default value.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:191"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:191" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:191" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:192"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:192" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:192" class="ju-code-link ju-constructor"><span class="ju-constructor">nnothing</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:191" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:193"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:193" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:193" class="ju-code-link ju-constructor"><span class="ju-constructor">njust</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword"></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:191" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:195"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:195" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:195" class="ju-code-link ju-function"><span class="ju-function">fromMaybe</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:196" class="ju-code-link ju-var"><span class="ju-var">d</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:191" class="ju-code-link ju-inductive"><span class="ju-inductive">NMaybe</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:193" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>njust</span></a></span> <span id="tutorials.learn:197"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:197" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:197" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:197" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:192" class="ju-code-link ju-constructor"><span class="ju-constructor">nnothing</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:196" class="ju-code-link ju-var"><span class="ju-var">d</span></a></span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>It would be useful to have a type that represents optional values of any type.
In Juvix, we can define the polymorphic version of <code>NMaybe</code> like this:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:199"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:199" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:199" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span></a></span></span> <span id="tutorials.learn:202"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:202" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:202" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:200"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:200" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:200" class="ju-code-link ju-constructor"><span class="ju-constructor">nothing</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:199" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:202" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:201"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:201" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:201" class="ju-code-link ju-constructor"><span class="ju-constructor">just</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:202" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword"></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:199" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:202" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>In this definition, we parameterize the type <code>Maybe</code> with a generic type <code>A</code>.</p>
<p>Implement again the <code>fromMaybe</code> function, but now, for the polymorphic <code>Maybe</code>
type. Note that in function definitions we must specify the type variables. The
definition of <code>fromMaybe</code> begins with:</p>
<div class="highlight"><pre><span></span><code>fromMaybe {A} (d : A) : Maybe A -&gt; A
</code></pre></div>
<p>Give the implementation.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:205"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:205" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:205" class="ju-code-link ju-function"><span class="ju-function">fromMaybe</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:206" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:207" class="ju-code-link ju-var"><span class="ju-var">d</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:206" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:206" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:206" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>just</span></a></span> <span id="tutorials.learn:208"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:208" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:208" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:208" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nothing</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:207" class="ju-code-link ju-var"><span class="ju-var">d</span></a></span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Neat! It is indeed very easy to define polymorphic functions in Juvix.</p>
<p>To get some more practice, give an implementation for <code>maybe</code> which begins with:</p>
<div class="highlight"><pre><span></span><code>maybe {A B} (d : B) (f : A -&gt; B) : Maybe A -&gt; B
</code></pre></div>
<p>This should return the value (if present) applied to the function <code>f</code>. Otherwise
it should return the default value <code>d</code>.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:210"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:210" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:210" class="ju-code-link ju-function"><span class="ju-function">maybe</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:211" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:212" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:213" class="ju-code-link ju-var"><span class="ju-var">d</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:212" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:214" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:211" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:212" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:211" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:212" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>just</span></a></span> <span id="tutorials.learn:215"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:215" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:215" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:214" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:215" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nothing</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:213" class="ju-code-link ju-var"><span class="ju-var">d</span></a></span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="list-exercises">List exercises<a class="headerlink" href="#list-exercises" title="Permanent link">&para;</a></h4>
<p>We can define polymorphic lists as follows:</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Data.Fixity:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Data/Fixity.html#Stdlib.Data.Fixity:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Data/Fixity.html#Stdlib.Data.Fixity:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Fixity</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="ju-var">::</span> <span class="ju-var">cons</span><span class="ju-delimiter">;</span><br/><br/><span class="ju-keyword">type</span> <span id="tutorials.learn:217"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:217" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:217" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span></a></span></span> <span id="tutorials.learn:220"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:220" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:220" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:218"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:218" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:218" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:217" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:220" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:219"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:219" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:219" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:220" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:217" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:220" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:217" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:220" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Let's define a function that returns the first element of a <code>List</code> if it exists.</p>
<p>Is beginning the definition as follows appropriate? If not, why?</p>
<div class="highlight"><pre><span></span><code>head {A} : List A -&gt; A
</code></pre></div>
<p>Try to give an implementation for it.</p>
<details class="info">
<summary>Solution</summary>
<p>As we know, Juvix guarantees that all functions are total.
But we cannot return anything when the list is empty.
Therefore it makes sense to use the <code>Maybe</code> type that we defined in the previous section.
The proper definition of <code>head</code> should be:</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:223"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:223" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:223" class="ju-code-link ju-function"><span class="ju-function">head</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:224" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:224" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:224" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nothing</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:225"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:225" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:225" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>h</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="ju-keyword">_</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:3" class="ju-code-link ju-constructor"><span class="ju-constructor">just</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:225" class="ju-code-link ju-var"><span class="ju-var">h</span></a></span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>So far we have defined only functions that do not involve looping, but any
non-trivial program will require some sort of repetition, so let's tackle that.</p>
<p>As stated previously, the only way to express repetition in Juivx is by using
<em>recursion</em>. We say that a function is recursive if it is defined in terms of
itself, i.e., the name of the function appears in its body.</p>
<p>The next exercise is to define a function which returns the last element of a
list. This function will need to call itself until it reaches the last element
of the list.</p>
<div class="highlight"><pre><span></span><code>last {A} : List A -&gt; Maybe A;
</code></pre></div>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:227"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:227" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:227" class="ju-code-link ju-function"><span class="ju-function">last</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:228" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:228" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Maybe</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:228" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nothing</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:229"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:229" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:229" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Maybe.html#Juvix.Builtin.V1.Maybe:3" class="ju-code-link ju-constructor"><span class="ju-constructor">just</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:229" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="ju-delimiter">(</span><span class="ju-keyword">_</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:230"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:230" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:230" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:227" class="ju-code-link ju-function"><span class="ju-function">last</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:230" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Next, implement a function that concatenates two lists:</p>
<div class="highlight"><pre><span></span><code>  concat {A} : List A -&gt; List A -&gt; List A
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is enough to pattern match the first list.</p>
</div>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:232"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:232" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:232" class="ju-code-link ju-function"><span class="ju-function">concat</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:233" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:233" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:233" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:233" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span id="tutorials.learn:234"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:234" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:234" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:234" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:235"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:235" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:235" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:236"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:236" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:236" class="ju-code-link ju-var"><span class="ju-var">as</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="tutorials.learn:237"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:237" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:237" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:235" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:232" class="ju-code-link ju-function"><span class="ju-function">concat</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:236" class="ju-code-link ju-var"><span class="ju-var">as</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:237" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Now write a function that concatenates a list of lists.</p>
<div class="highlight"><pre><span></span><code>  concatMany {A} : List (List A) -&gt; List A
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code>concat</code> may be helpful.</p>
</div>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:239"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:239" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:239" class="ju-code-link ju-function"><span class="ju-function">concat</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:241" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:241" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:241" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:241" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span id="tutorials.learn:242"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:242" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:242" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:242" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:243"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:243" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:243" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:244"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:244" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:244" class="ju-code-link ju-var"><span class="ju-var">as</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="tutorials.learn:245"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:245" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:245" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:243" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:239" class="ju-code-link ju-function"><span class="ju-function">concat</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:244" class="ju-code-link ju-var"><span class="ju-var">as</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:245" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:240"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:240" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:240" class="ju-code-link ju-function"><span class="ju-function">concatMany</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:246" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:246" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:246" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:247"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:247" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:247" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:248"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:248" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:248" class="ju-code-link ju-var"><span class="ju-var">as</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:239" class="ju-code-link ju-function"><span class="ju-function">concat</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:247" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:240" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>concatMany</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:248" class="ju-code-link ju-var"><span class="ju-var">as</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Can you give an alternative implementation that uses the <code>rfor</code> iterator? What
would happen if you used <code>for</code> instead of <code>rfor</code>?</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span class="ju-keyword">import</span> <span id="Stdlib.Data.Fixity:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Data/Fixity.html#Stdlib.Data.Fixity:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Data/Fixity.html#Stdlib.Data.Fixity:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Fixity</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:250"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:250" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:250" class="ju-code-link ju-function"><span class="ju-function">concat</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:252" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:252" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:252" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:252" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span id="tutorials.learn:253"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:253" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:253" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:253" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:254"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:254" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:254" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:255"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:255" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:255" class="ju-code-link ju-var"><span class="ju-var">as</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="tutorials.learn:256"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:256" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:256" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:254" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:250" class="ju-code-link ju-function"><span class="ju-function">concat</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:255" class="ju-code-link ju-var"><span class="ju-var">as</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:256" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:251"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:251" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:251" class="ju-code-link ju-function"><span class="ju-function">concatMany-iter</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:257" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:258" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:257" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:257" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Foldable/Monomorphic.html#Stdlib.Trait.Foldable.Monomorphic:12" class="ju-code-link ju-function"><span class="ju-function">rfor</span></a></span> <span id="tutorials.learn:259"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:259" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:259" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">)</span> <span id="tutorials.learn:260"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:260" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:260" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>l</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:258" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">{</span><br/>    <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:250" class="ju-code-link ju-function"><span class="ju-function">concat</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:260" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:259" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><br/>  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>In the previous solution, if you replace <code>rfor</code> by <code>for</code>, the resulting list
will be as if the original list was reversed, but each of the nested lists keep
their original order.</p>
<p>Write a function that reverses a list:</p>
<ul>
<li>using the <code>for</code> iterator,</li>
<li>using tail recursion.</li>
</ul>
<details class="info">
<summary>Solution</summary>
<p>Using the <code>for</code> iterator:</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:262"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:262" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:262" class="ju-code-link ju-function"><span class="ju-function">reverse</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:263" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:264" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:263" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:263" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Foldable/Monomorphic.html#Stdlib.Trait.Foldable.Monomorphic:11" class="ju-code-link ju-function"><span class="ju-function">for</span></a></span> <span id="tutorials.learn:265"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:265" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:265" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">)</span> <span id="tutorials.learn:266"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:266" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:266" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:264" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">{</span><br/>    <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:266" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:265" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><br/>  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span></pre></code></pre></p>
<p>Using tail recursion:</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:268"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:268" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:268" class="ju-code-link ju-function"><span class="ju-function">reverse</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:269" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:269" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:269" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">let</span><br/>    <span id="tutorials.learn:270"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:270" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:270" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:271" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:269" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:269" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:269" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:271" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><br/>      <span class="ju-keyword">|</span> <span id="tutorials.learn:272"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:272" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:272" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span></a></span></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:273"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:273" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:273" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:270" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:272" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:271" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:273" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:270" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="function-composition">Function composition<a class="headerlink" href="#function-composition" title="Permanent link">&para;</a></h4>
<p>Let's try a different exercise. Define a function <code>compose</code> that composes two
functions <code>f</code> and <code>g</code>. It should take three arguments <code>f</code>, <code>g</code>, <code>x</code> and its only
clause's body should be <code>f (g x)</code>.</p>
<p>Can you make the <code>compose</code> function polymorphic and as general as possible?</p>
<details class="hint">
<summary>Hint</summary>
<p>The definition should start like this:</p>
<div class="highlight"><pre><span></span><code>    compose {A B C} ...
</code></pre></div>
</details>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span id="tutorials.learn:275"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:275" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:275" class="ju-code-link ju-function"><span class="ju-function">compose</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:276" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:277" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:278" class="ju-code-link ju-var"><span class="ju-var">C</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:279" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:277" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:278" class="ju-code-link ju-var"><span class="ju-var">C</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:280" class="ju-code-link ju-var"><span class="ju-var">g</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:276" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:277" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:281" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:276" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:278" class="ju-code-link ju-var"><span class="ju-var">C</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:279" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:280" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>g</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:281" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<p>Congratulations! Your warm-up is complete!</p>
<h3 id="more-exercises">More exercises<a class="headerlink" href="#more-exercises" title="Permanent link">&para;</a></h3>
<h4 id="prime-numbers">Prime numbers<a class="headerlink" href="#prime-numbers" title="Permanent link">&para;</a></h4>
<p>Define a function <code>prime : Nat -&gt; Bool</code> which checks if a given natural number
is prime.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>A number is prime if it is greater than 1 and has no divisors
other than 1 and itself.</p>
</div>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:283"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:283" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:283" class="ju-code-link ju-function"><span class="ju-function">prime</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:284" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Bool.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">let</span><br/>    <span id="tutorials.learn:285"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:285" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:285" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Bool.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Bool.html#Juvix.Builtin.V1.Bool:3" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Bool.html#Juvix.Builtin.V1.Bool:3" class="ju-code-link ju-constructor"><span class="ju-constructor">true</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:287" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="tutorials.learn:286"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:286" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:286" class="ju-code-link ju-var"><span class="ju-var">k</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span><br/>        <span class="ju-keyword">if</span> <br/>          <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/DivMod.html#Stdlib.Trait.DivMod:7" class="ju-code-link ju-function"><span class="ju-function">mod</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:284" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:286" class="ju-code-link ju-var"><span class="ju-var">k</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Eq.html#Stdlib.Trait.Eq:9" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="ju-number">0</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Bool.html#Juvix.Builtin.V1.Bool:2" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><br/>          <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:285" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:286" class="ju-code-link ju-var"><span class="ju-var">k</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">in</span> <span class="ju-keyword">case</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:284" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="ju-keyword">of</span><br/>       <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Bool.html#Juvix.Builtin.V1.Bool:2" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><br/>       <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor">suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Bool.html#Juvix.Builtin.V1.Bool:2" class="ju-code-link ju-constructor"><span class="ju-constructor">false</span></a></span><br/>       <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor">suc</span></a></span> <span id="tutorials.learn:288"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:288" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:288" class="ju-code-link ju-var"><span class="ju-var">k</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:285" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:288" class="ju-code-link ju-var"><span class="ju-var">k</span></a></span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="half">Half<a class="headerlink" href="#half" title="Permanent link">&para;</a></h4>
<p>Does Juvix accept the following definition?</p>
<div class="highlight"><pre><span></span><code>half : Nat -&gt; Nat :=
  if
    | n &lt; 2 := 0
    | else := half (sub n 2) + 1;
</code></pre></div>
<p>If not, how can you reformulate this definition so that it is accepted by Juvix?</p>
<details class="info">
<summary>Solution</summary>
<p>The definition doesn't pass the termination checker.
One way to reformulate it is as follows:</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:290"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:290" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:290" class="ju-code-link ju-function"><span class="ju-function">half</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="tutorials.learn:291"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:291" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:291" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:290" class="ju-code-link ju-function"><span class="ju-function">half</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:291" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="ju-number">1</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="tree-map">Tree map<a class="headerlink" href="#tree-map" title="Permanent link">&para;</a></h4>
<p>Recall the <code>Tree</code> type from above.</p>
<pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span class="ju-keyword">type</span> <span id="tutorials.learn:293"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:293" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:293" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:294"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:294" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:294" class="ju-code-link ju-constructor"><span class="ju-constructor">leaf</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:293" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:295"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:295" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:295" class="ju-code-link ju-constructor"><span class="ju-constructor">node</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:293" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:293" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:293" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span><span class="ju-delimiter">;</span></pre></code></pre>

<p>Analogously to the <code>map</code> function for lists, define a function</p>
<div class="highlight"><pre><span></span><code>tmap : (Nat -&gt; Nat) -&gt; Tree -&gt; Tree;
</code></pre></div>
<p>which applies a function to all natural numbers stored in a tree.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span class="ju-keyword">type</span> <span id="tutorials.learn:298"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:298" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:298" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:299"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:299" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:299" class="ju-code-link ju-constructor"><span class="ju-constructor">leaf</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:298" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:300"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:300" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:300" class="ju-code-link ju-constructor"><span class="ju-constructor">node</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:298" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:298" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:298" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:302"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:302" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:302" class="ju-code-link ju-function"><span class="ju-function">tmap</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:303" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:298" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:298" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:299" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>leaf</span></a></span> <span id="tutorials.learn:304"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:304" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:304" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:299" class="ju-code-link ju-constructor"><span class="ju-constructor">leaf</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:303" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:304" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:300" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>node</span></a></span> <span id="tutorials.learn:305"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:305" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:305" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="tutorials.learn:306"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:306" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:306" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span></a></span></span> <span id="tutorials.learn:307"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:307" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:307" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:300" class="ju-code-link ju-constructor"><span class="ju-constructor">node</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:303" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:305" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:302" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>tmap</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:303" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:306" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:302" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>tmap</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:303" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:307" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="polymorphic-tree">Polymorphic tree<a class="headerlink" href="#polymorphic-tree" title="Permanent link">&para;</a></h4>
<p>Modify the <code>Tree</code> type to be polymorphic in the element type, and then
repeat the previous exercise.</p>
<details class="info">
<summary>Solution</summary>
<p>The <code>Tree</code> type and the <code>tmap</code> function need to be made polymorphic in the element types.</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">type</span> <span id="tutorials.learn:309"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:309" class="ju-code-link ju-inductive"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:309" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span></a></span></span> <span id="tutorials.learn:312"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:312" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:312" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span></a></span></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:310"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:310" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:310" class="ju-code-link ju-constructor"><span class="ju-constructor">leaf</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:312" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:309" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:312" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><br/>  <span class="ju-keyword">|</span> <span id="tutorials.learn:311"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:311" class="ju-code-link ju-constructor"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:311" class="ju-code-link ju-constructor"><span class="ju-constructor">node</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:312" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:309" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:312" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:309" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:312" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:309" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:312" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:314"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:314" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:314" class="ju-code-link ju-function"><span class="ju-function">tmap</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:315" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:316" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:317" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:315" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:316" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:309" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:315" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:309" class="ju-code-link ju-inductive"><span class="ju-inductive">Tree</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:316" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:310" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>leaf</span></a></span> <span id="tutorials.learn:318"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:318" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:318" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:310" class="ju-code-link ju-constructor"><span class="ju-constructor">leaf</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:317" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:318" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:311" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>node</span></a></span> <span id="tutorials.learn:319"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:319" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:319" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="tutorials.learn:320"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:320" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:320" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span></a></span></span> <span id="tutorials.learn:321"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:321" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:321" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:311" class="ju-code-link ju-constructor"><span class="ju-constructor">node</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:317" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:319" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:314" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>tmap</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:317" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:320" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:314" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>tmap</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:317" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:321" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre></p>
<p>Note that only the types needed to be changed.</p>
</details>
<h4 id="suffixes">Suffixes<a class="headerlink" href="#suffixes" title="Permanent link">&para;</a></h4>
<p>A <em>suffix</em> of a list <code>l</code> is any list which can be obtained from <code>l</code> by removing
some initial elements. For example, the suffixes of <code>1 :: 2 :: 3 :: nil</code> are:</p>
<ul>
<li><code>1 :: 2 :: 3 :: nil</code>,</li>
<li><code>2 :: 3 :: nil</code>,</li>
<li><code>3 :: nil</code>, and</li>
<li><code>nil</code>.</li>
</ul>
<p>Define a function which computes the list of all suffixes of a given list,
arranged in descending order of their lengths.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:323"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:323" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:323" class="ju-code-link ju-function"><span class="ju-function">suffixes</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:324" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:324" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:324" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:2" class="ju-code-link ju-constructor"><span class="ju-constructor">nil</span></a></span><br/>  <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:326" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">(</span><span class="ju-keyword">_</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span id="tutorials.learn:325"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:325" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:325" class="ju-code-link ju-var"><span class="ju-var">xs&#39;</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:326" class="ju-code-link ju-var"><span class="ju-var">xs</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:3" class="ju-code-link ju-constructor"><span class="ju-constructor">::</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:323" class="ju-code-link ju-function"><span class="ju-function">suffixes</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:325" class="ju-code-link ju-var"><span class="ju-var">xs&#39;</span></a></span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="factorial">Factorial<a class="headerlink" href="#factorial" title="Permanent link">&para;</a></h4>
<p>Write a tail recursive function which computes the factorial of a natural
number.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:328"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:328" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:328" class="ju-code-link ju-function"><span class="ju-function">fact</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="ju-keyword">let</span><br/>    <span id="tutorials.learn:329"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:329" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:329" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:330" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">zero</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:330" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><br/>      <span class="ju-keyword">|</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:332" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Nat/Base.html#Juvix.Builtin.V1.Nat.Base:3" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>suc</span></a></span> <span id="tutorials.learn:331"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:331" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:331" class="ju-code-link ju-var"><span class="ju-var">n&#39;</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:329" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:330" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/Trait/Natural.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:332" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:331" class="ju-code-link ju-var"><span class="ju-var">n&#39;</span></a></span><span class="ju-delimiter">;</span><br/>  <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:329" class="ju-code-link ju-function"><span class="ju-function">go</span></a></span> <span class="ju-number">1</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>
<h4 id="list-function-compose">List function compose<a class="headerlink" href="#list-function-compose" title="Permanent link">&para;</a></h4>
<p>Define a function</p>
<div class="highlight"><pre><span></span><code>comp {A} : List (A -&gt; A) -&gt; A -&gt; A
</code></pre></div>
<p>which composes all functions in a list. For example,</p>
<div class="highlight"><pre><span></span><code>comp (suc :: (*) 2 :: \{x := sub x 1} :: nil)
</code></pre></div>
<p>should be a function which given <code>x</code> computes <code>2(x - 1) + 1</code>.</p>
<details class="info">
<summary>Solution</summary>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Prelude:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Prelude.html#Stdlib.Prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:334"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:334" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:334" class="ju-code-link ju-function"><span class="ju-function">comp</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:335" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:336" class="ju-code-link ju-var"><span class="ju-var">fs</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Juvix/Builtin/V1/List.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:335" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:335" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:335" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:335" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">:=</span><br/>  <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Trait/Foldable/Monomorphic.html#Stdlib.Trait.Foldable.Monomorphic:11" class="ju-code-link ju-function"><span class="ju-function">for</span></a></span> <span id="tutorials.learn:337"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:337" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:337" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>acc</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Function.html#Stdlib.Function:4" class="ju-code-link ju-function"><span class="ju-function">id</span></a></span><span class="ju-delimiter">)</span> <span id="tutorials.learn:338"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:338" class="ju-code-link ju-var"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:338" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>f</span></a></span></a></span></span> <span class="ju-keyword">in</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:336" class="ju-code-link ju-var"><span class="ju-var">fs</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">{</span><br/>    <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:338" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Function.html#Stdlib.Function:2" class="ju-code-link ju-function"><span class="ju-function">&gt;&gt;</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:337" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span><br/>  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span></pre></code></pre></p>
<p>where <code>&gt;&gt;</code> is the composition function from the standard library:</p>
<p><pre class="highlight"><code class="juvix"><pre class="src-content"><span class="ju-keyword">import</span> <span id="Stdlib.Data.Fixity:0"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Data/Fixity.html#Stdlib.Data.Fixity:0" class="ju-code-link ju-module"><span class="annot"><a href="https://docs.juvix.org/pull-135/Stdlib/Data/Fixity.html#Stdlib.Data.Fixity:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Fixity</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span><br/><br/><span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="ju-var">&gt;&gt;</span> <span class="ju-var">composition</span><span class="ju-delimiter">;</span><br/><br/><span id="tutorials.learn:340"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:340" class="ju-code-link ju-function"><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:340" class="ju-code-link ju-function"><span class="ju-function">&gt;&gt;</span></a></span></a></span></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:341" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:342" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:343" class="ju-code-link ju-var"><span class="ju-var">C</span></a></span><span class="ju-delimiter">}</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:344" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:342" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:343" class="ju-code-link ju-var"><span class="ju-var">C</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:345" class="ju-code-link ju-var"><span class="ju-var">g</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:341" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:342" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:346" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:341" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:343" class="ju-code-link ju-var"><span class="ju-var">C</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:344" class="ju-code-link ju-var"><span class="ju-var">f</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:345" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>g</span></a></span> <span class="annot"><a href="https://docs.juvix.org/pull-135/tutorials/learn.html#tutorials.learn:346" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span></pre></code></pre></p>
</details>

<!-- Source file information -->

  






  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-12-23T11:06:13+01:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-12-23</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-11-24T22:12:50+01:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-11-24</span>
  </span>

    
    
    
  </aside>



<!-- Was this page helpful? -->

  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5zM16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! Help us improve this page by opening an issue on GitHub.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


<!-- Comment system -->

  <h2 id="__comments">Comments</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
  data-repo="anoma/juvix-docs"
  data-repo-id="R_kgDOJXy1bw"
  data-category="General"
  data-category-id="DIC_kwDOJXy1b84CV1X1"
  data-mapping="title"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="preferred_color_scheme"
  data-lang="en"
  data-loading="lazy"
  crossorigin="anonymous"
  async>
</script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="essential.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Essential Juvix">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Essential Juvix
              </div>
            </div>
          </a>
        
        
          
          <a href="vscode.html" class="md-footer__link md-footer__link--next" aria-label="Next: Juvix VSCode extension">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Juvix VSCode extension
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.042-.018.75.75 0 0 1-.018-1.042l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
    
      <div class="md-copyright__highlight">
        Juvix is a project by Anoma Foundation and GitHub contributors.
      </div>
    

    <ul>
      <li><a href="https://anoma.net/" target="_blank">Anoma</a> | <a href="https://anoma.net/blog" target="_blank">Anoma Blog</a> | <a href="https://anoma.net/talks" target="_blank">Anoma Talks</a></li>
      <li>
      <!-- include time  -->
      Last updated: 2024-12-23 17:13:35 UTC
        </li>
      </li>
      </ul>

  </div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/anoma/juvix" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://x.com/juvixlang" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://anoma.net/blog" target="_blank" rel="noopener" title="anoma.net" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M192 32c0 17.7 14.3 32 32 32 123.7 0 224 100.3 224 224 0 17.7 14.3 32 32 32s32-14.3 32-32C512 128.9 383.1 0 224 0c-17.7 0-32 14.3-32 32m0 96c0 17.7 14.3 32 32 32 70.7 0 128 57.3 128 128 0 17.7 14.3 32 32 32s32-14.3 32-32c0-106-86-192-192-192-17.7 0-32 14.3-32 32m-96 16c0-26.5-21.5-48-48-48S0 117.5 0 144v224c0 79.5 64.5 144 144 144s144-64.5 144-144-64.5-144-144-144h-16v96h16c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://research.anoma.net" target="_blank" rel="noopener" title="research.anoma.net" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9S348.6 32 225.9 32M224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://youtube.com/anoma" target="_blank" rel="noopener" title="youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:arts@heliax.dev" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  




<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.footer", "navigation.indexes", "navigation.path", "navigation.prune", "navigation.tabs", "navigation.tracking", "search.highlight", "search.suggest", "search.share", "toc.follow"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../js/timeago.min.js"></script>
      
        <script src="../js/timeago_mkdocs_material.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../assets/js/highlight.js"></script>
      
        <script src="../assets/js/extra.js"></script>
      
    
  </body>
</html>